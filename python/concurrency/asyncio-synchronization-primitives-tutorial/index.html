<!DOCTYPE html>
<html lang="id-ID">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width">
    <meta name="google-site-verification" content="qMqQROYQaYZMrlMxnronbkhUycW3pBOAEH1QqdAbW1s" />
    <meta name="msvalidate.01" content="CEE7BB7D58F4339402A05A52C8D91A35" />
    <meta name="description"
        content="Hundreds of free tutorials for cutting edge languages and frameworks.">
    
    <meta name="author" content="Wisnu Saputra">
    <meta property="og:site_name" content="CoTutorial" />

    <title>Asyncio Synchronization Primitives Tutorial - Queues and Locks | CoTutorial</title>


    <link rel="icon" type="image/png" href="https://images.tutorialedge.net/images/favicon.ico">
    <link media="all" defer rel="stylesheet" href="https://use.typekit.net/jnu8xif.css">
    <link media="all" defer href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
        crossorigin="anonymous">
    <link media="all" defer rel="stylesheet" href="https://cotutorial.github.io/css/style.css"> 
    <meta name="generator" content="Hugo 0.57.2" />
    <script src="../../../js/jquery-3.4.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"
        integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o"
        crossorigin="anonymous"></script>
    <meta content='100023577212451' property='fb:admins' />
    <meta content="493615514813695" property="fb:app_id" />

</head>

<body>
    <div id="dynamicApp">
        <nav class="navbar navbar-expand-lg">
            
            <a class="navbar-brand" href="../../../">
                <img alt="tutorialedge logo" src="../../../images/svg/logo.svg" alt="CoTutorial">
                <span>CoTutorial</span>
            </a>
            

            
            <button class="navbar-toggler text-white" type="button" data-toggle="collapse"
                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <img src="../../../images/svg/hamburger.svg" alt="hamburger menu" />
            </button>
            

            <div class="collapse navbar-collapse justify-content-between" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/angular/"><img alt="angular logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/angular.svg" /> Angular</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/typescript/"><img alt="angular logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/typescript.png" /> TypeScript</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/cloud/"><img alt="cloud logo"
                                src="data:image/png.svg;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/cloud.svg" /> Cloud</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/python/"><img alt="python logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/python.svg" />Python</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/golang/"><img alt="golang logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/golang.svg" />Golang</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/rust/"><img alt="rust logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/rust-logo.png" />Rust</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/webdev/"><img alt="webdev logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="../../../images/svg/logo.svg" />Web Dev</a>
                    </li>
                </ul>

            </div>
        </nav>


<div class="top-bar">
    <div class="container">
        <h1>
            
            <img src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" data-src="https://images.tutorialedge.net/images/python.svg" alt="Asyncio Synchronization Primitives Tutorial - Queues and Locks Image" />  Asyncio Synchronization Primitives Tutorial - Queues and Locks
        </h1>
        <div class="post-info">
            <div class="post-info-inner">
                <span>
            
            <img class="author" src="../../../images/svg/logo.svg" alt="CoTutorial" />
            
            <a href="https://twitter.com/wisnusaputradev">CoTutorial</a>
          </span>

                <span><img class="icon" src="https://tutorialedge.net/images/svg/clock.svg" alt="clock"/>4 Minutes</span>
                <span><img class="icon" src="https://tutorialedge.net/images/svg/calendar.svg" alt="clock"/> Nov 23, 2017</span>

                <span>
            
            <a href="../../../tags/asyncio"
              ><span class="badge badge-pill badge-info">asyncio</span></a>
                
            <a href="../../../tags/concurrency"
              ><span class="badge badge-pill badge-info">concurrency</span></a>
                
                </span>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="content-container">
        <div class="row">

            <div class="d-none d-sm-none col-sm-3 d-md-block">
                <div class="sidebar">
                    <div id="sidebar small-no-show">

  <div class="right-sidebar youtube-subscribe">
    <h3>Site Sponsors</h3>
    <a href="#"><img class="patron" src="https://images.tutorialedge.net/images/DigitalOcean.png" style="width: 100%; height: auto; margin: 0; " alt="Amazing Site Sponsors!"/></a>
    <hr/>
    <h3>Support The Site</h3>
    <a href="#"><img class="patron" src="https://images.tutorialedge.net/images/patreon.png" alt="become a patron"/></a>
    <div class="clear"></div>
    <a href="#"><img src="https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png" alt="Buy Me A Coffee" style="height: auto !important;width: auto !important;" ></a>
  </div>


  <div class="right-sidebar small-no-show">
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">advanced</h4>
    <ul class="collection">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-method-resolution-order-tutorial/">Python Method Resolution Order Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-c-extensions-tutorial/">Creating Basic Python C Extensions - Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">ai</h4>
    <ul class="collection">
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/intro-face-recognition-in-python/">An Introduction to Face Recognition in Python</a></li>
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">asyncio</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/concurrency/python-asyncio-semaphores-tutorial/">Asyncio Semaphores and Bounded Semaphores Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/concurrency/asyncio-synchronization-primitives-tutorial/">Asyncio Synchronization Primitives Tutorial - Queues and Locks</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/concurrency/asyncio-tasks-tutorial/">Asyncio Tasks Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/concurrency/asyncio-event-loops-tutorial/">Asyncio Event Loops Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">aws</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/cloud/aws/python-based-lambda-tutorial/">Python Based Lambda Tutorial</a></li>
      
      
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">beginner</h4>
    <ul class="collection">
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/getting-started-with-python/">Getting Started With Python</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-functions-and-variables/">Functions and Variables in Python</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-lists-tutorial/">Working with Lists in Python - Tutorial</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-working-with-file-system/">Working With The File System in Python</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-reading-writing-files/">Reading and Writing Files In Python</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-maps-tutorial/">Python Maps Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-modules-tutorial/">Python Modules Tutorial</a></li>
      
      
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-logging-best-practices/">Python Logging Best Practices</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-decorators-tutorial/">Python Decorators Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-generator-tutorial/">Python Generators Tutorial</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-iterator-tutorial/">Python Iterator Tutorial</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/fetching-web-pages-python/">Fetching Web Pages In Python Using Urllib2</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/removing-html-from-string/">Removing HTML Tags from a String with Python</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">books</h4>
    <ul class="collection">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/best-books-for-python/">The Top Books for Learning to Program in Python</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">c</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-c-extensions-tutorial/">Creating Basic Python C Extensions - Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">concurrency</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-maps-tutorial/">Python Maps Tutorial</a></li>
      
      
      
      
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/concurrency/python-asyncio-semaphores-tutorial/">Asyncio Semaphores and Bounded Semaphores Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/concurrency/asyncio-synchronization-primitives-tutorial/">Asyncio Synchronization Primitives Tutorial - Queues and Locks</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/concurrency/asyncio-tasks-tutorial/">Asyncio Tasks Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/concurrency/getting-started-with-asyncio-python/">Getting Started with Asyncio in Python</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/concurrency/threads-in-python/">Threads in Python</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/concurrency/asyncio-event-loops-tutorial/">Asyncio Event Loops Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-event-driven-rxpy-tutorial/">Python Event-Driven Programming with RxPY - Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/concurrency/python-processpoolexecutor-tutorial/">Python ProcessPoolExecutor Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/concurrency/python-threadpoolexecutor-tutorial/">Python ThreadPoolExecutor Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-multithreading-tutorial/">Python Multithreading Tutorial - Concurrent Programming</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-multiprocessing-tutorial/">Python Multiprocessing Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">configuration</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-environment-configuration-tutorial/">Python Environment Configuration Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">data-science</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/data-science/setting-up-dev-environment-building-gan/">Setting Up your Development Environment for Building a Genetic Adversarial Network</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/data-science/preparing-dataset-machine-learning-scikit-learn/">Preparing a Dataset for Machine Learning with scikit-learn</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/building-imdb-top-250-clone-pandas/">Building an IMDB Top 250 Clone with Pandas</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">debugging</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/debugging-with-pdb-python/">Debugging with the Python Debugger - PDB </a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">filesystem</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-working-with-file-system/">Working With The File System in Python</a></li>
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">http</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/create-rest-api-python-aiohttp/">Creating a RESTful API with Python and aiohttp</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-http-requests-tutorial/">Making HTTP Requests in Python - Tutorial</a></li>
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">intermediate</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-project-layout/">Python Project Layout Best Practices</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/getting-started-with-pyunit-testing/">Getting Started With PyUnit Testing</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/calculating-keyword-density-python/">Calculating Keyword Density of a Web Page with Python</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/creating-python-web-crawler/">Creating a Python Web Crawler</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/creating-twitter-bot-python/">Creating a Twitter Bot Using Python and the Twitter API</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">logging</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-logging-best-practices/">Python Logging Best Practices</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">networking</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/udp-client-server-python/">UDP Client and Server Tutorial in Python</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">rest</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/create-rest-api-python-aiohttp/">Creating a RESTful API with Python and aiohttp</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-http-requests-tutorial/">Making HTTP Requests in Python - Tutorial</a></li>
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">rxpy</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-event-driven-rxpy-tutorial/">Python Event-Driven Programming with RxPY - Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">socket.io</h4>
    <ul class="collection">
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/python-socket-io-tutorial/">Python Socket.io Tutorial</a></li>
      
      
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">testing</h4>
    <ul class="collection">
      
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/python/getting-started-with-pyunit-testing/">Getting Started With PyUnit Testing</a></li>
      
      
      
      
    </ul>
    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    
  </div>

</div>
                </div>
            </div>

            <div class="col-sm-9 col-md-7">
                <article class="content" v-pre>
                    

<blockquote>
<p>This tutorial was built on top of Python 3.6</p>
</blockquote>

<h1 id="video-tutorial">Video Tutorial</h1>

<div style="position:relative;height:0;padding-bottom:42.76%"><iframe src="https://www.youtube.com/embed/kMcwcJdIvHI?ecver=2" style="position:absolute;width:100%;height:100%;left:0" width="842" height="360" frameborder="0" gesture="media" allowfullscreen></iframe></div>

<p>In this tutorial we&rsquo;ll be looking at the various synchronization primitives
available to you in your Asyncio programming adventures. We&rsquo;ll be taking a brief
look at why these synchronization primitives are important and also the various
ways you can use them within a simple Asyncio based program.</p>

<h1 id="why-are-these-important">Why Are These Important?</h1>

<p>When it comes to programming concurrent systems you have to try and ensure that
your program is free from a little thing called a <code>Race Condition</code>. A
<code>Race Condition</code> occurs when multiple concurrent workers try to modify a shared
variable, array etc. concurrently and they start to produce erroneous results
due to timing issues.</p>

<p>Because of these race conditions we have to utilize things known as
synchronization primitives. When it comes to synchronization primitives within
Asyncio we have a number to choose from. These are all based on the <code>threading</code>
module equivalent and tend to have the same <code>API</code> with which we can work with
them.</p>

<h1 id="locks">Locks</h1>

<p>The best analogy to describe how a lock works is to imagine there is a queue of
people trying to access a bathroom. One person goes in and locks the door and in
doing so prevents another person from coming in whilst they are doing their
business.</p>

<p>In computing terms when we lock something, we essentially prevent someone else
coming in and messing with the locked resource whilst it&rsquo;s in use.</p>

<h2 id="a-simple-lock-example">A Simple Lock Example</h2>

<p>In this example we are going to create a <code>asyncio.Lock()</code> instance and we are
going to try to acquire this lock using <code>with await lock</code>. Once our worker has
attained this lock we will then execute our critical section of code and then
proceed to release the lock that we have just attained.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#f92672">import</span> asyncio
<span style="color:#f92672">import</span> time

async <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">myWorker</span>(lock):
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Attempting to attain lock&#34;</span>)
    <span style="color:#75715e"># acquire lock</span>
    <span style="color:#66d9ef">with</span> await lock:
        <span style="color:#75715e"># run critical section of code</span>
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Currently Locked&#34;</span>)
        time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">2</span>)
    <span style="color:#75715e"># our worker releases lock at this poit</span>
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Unlocked Critical Section&#34;</span>)

async <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
    <span style="color:#75715e"># instantiate our lock</span>
    lock <span style="color:#f92672">=</span> asyncio<span style="color:#f92672">.</span>Lock()
    <span style="color:#75715e"># await the execution of 2 myWorker coroutines</span>
    <span style="color:#75715e"># each with our same lock instance passed in</span>
    await asyncio<span style="color:#f92672">.</span>wait([myWorker(lock), myWorker(lock)])

<span style="color:#75715e"># Start up a simple loop and run our main function</span>
<span style="color:#75715e"># until it is complete</span>
lock <span style="color:#f92672">=</span> asyncio<span style="color:#f92672">.</span>Lock()
loop <span style="color:#f92672">=</span> asyncio<span style="color:#f92672">.</span>get_event_loop()
loop<span style="color:#f92672">.</span>run_until_complete(main())
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;All Tasks Completed&#34;</span>)
loop<span style="color:#f92672">.</span>close()</code></pre></div>
<h2 id="output">Output</h2>

<p>WHen we run this ywe should see that only one of our concurrently running
workers is able to run at the one time.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"> <span style="color:#960050;background-color:#1e0010">$</span> python3<span style="color:#f92672">.</span><span style="color:#ae81ff">6</span> synchronization<span style="color:#f92672">.</span>py
Attempting to attain lock
Currently Locked
Unlocked Critical Section
Attempting to attain lock
Currently Locked
Unlocked Critical Section
All Tasks Completed</code></pre></div>
<h1 id="queues">Queues</h1>

<p>When it comes to communicating in a synchronized fashion then asyncio provides
its own <code>queue</code> based implementation. We can push things onto our queue in a
synchronized fashion with a producer and have consumers simultaneously poll this
queue for anything pushed onto it.</p>

<h2 id="simple-implementation">Simple Implementation</h2>

<p>In this example we are going to create a <code>newsProducer()</code> coroutine and a
<code>newsConsumer()</code> coroutine. The <code>newsProducer()</code> coroutine will push new news
items onto our synchronized queue, the <code>newsConsumer()</code> coroutine will attempt
to retrieve any items that have been pushed onto said queue and then print
whenever it does get something.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#f92672">import</span> asyncio
<span style="color:#f92672">import</span> random
<span style="color:#f92672">import</span> time

async <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">newsProducer</span>(myQueue):
    <span style="color:#66d9ef">while</span> True:
        await asyncio<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Putting news item onto queue&#34;</span>)
        await myQueue<span style="color:#f92672">.</span>put(random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5</span>))

async <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">newsConsumer</span>(id, myQueue):
    <span style="color:#66d9ef">print</span>(myQueue)
    <span style="color:#66d9ef">while</span> True:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Consumer: {} Attempting to get from queue&#34;</span><span style="color:#f92672">.</span>format(id))
        item <span style="color:#f92672">=</span> await myQueue<span style="color:#f92672">.</span>get()
        <span style="color:#66d9ef">if</span> item <span style="color:#f92672">is</span> None:
            <span style="color:#75715e"># the producer emits None to indicate that it is done</span>
            <span style="color:#66d9ef">break</span>
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Consumer: {} consumed article with id: {}&#34;</span><span style="color:#f92672">.</span>format(id, item))


loop <span style="color:#f92672">=</span> asyncio<span style="color:#f92672">.</span>get_event_loop()
myQueue <span style="color:#f92672">=</span> asyncio<span style="color:#f92672">.</span>Queue(loop<span style="color:#f92672">=</span>loop, maxsize<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>)
<span style="color:#66d9ef">try</span>:
    loop<span style="color:#f92672">.</span>run_until_complete(asyncio<span style="color:#f92672">.</span>gather(newsProducer(myQueue), newsConsumer(<span style="color:#ae81ff">1</span>, myQueue), newsConsumer(<span style="color:#ae81ff">2</span>, myQueue)))
<span style="color:#66d9ef">except</span> <span style="color:#a6e22e">KeyboardInterrupt</span>:
    <span style="color:#66d9ef">pass</span>
<span style="color:#66d9ef">finally</span>:
    loop<span style="color:#f92672">.</span>close()</code></pre></div>
<h2 id="output-1">Output</h2>

<p>When we then try to run this you should see that our producer pushes items onto
our queue and then our consumers compete with one another in order to get
anything put onto the queue.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"> <span style="color:#960050;background-color:#1e0010">$</span> python3<span style="color:#f92672">.</span><span style="color:#ae81ff">6</span> asyncio<span style="color:#f92672">-</span>queues<span style="color:#f92672">.</span>py
<span style="color:#f92672">&lt;</span>Queue maxsize<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span><span style="color:#f92672">&gt;</span>
Consumer: <span style="color:#ae81ff">1</span> Attempting to get <span style="color:#f92672">from</span> queue
<span style="color:#f92672">&lt;</span>Queue maxsize<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span> _getters[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">&gt;</span>
Consumer: <span style="color:#ae81ff">2</span> Attempting to get <span style="color:#f92672">from</span> queue
Putting news item onto queue
Consumer: <span style="color:#ae81ff">1</span> consumed article <span style="color:#66d9ef">with</span> id: <span style="color:#ae81ff">5</span>
Consumer: <span style="color:#ae81ff">1</span> Attempting to get <span style="color:#f92672">from</span> queue
Putting news item onto queue
Consumer: <span style="color:#ae81ff">2</span> consumed article <span style="color:#66d9ef">with</span> id: <span style="color:#ae81ff">3</span>
Consumer: <span style="color:#ae81ff">2</span> Attempting to get <span style="color:#f92672">from</span> queue
Putting news item onto queue
Consumer: <span style="color:#ae81ff">1</span> consumed article <span style="color:#66d9ef">with</span> id: <span style="color:#ae81ff">4</span>
Consumer: <span style="color:#ae81ff">1</span> Attempting to get <span style="color:#f92672">from</span> queue
Putting news item onto queue</code></pre></div>
<h1 id="conclusion">Conclusion</h1>

<p>If you found this tutorial useful or require further assistance then please let
me know in the comments section below!</p>
 
<div class="author-container">
  <div class="author-image">
    
    <img src="../../../images/svg/logo.svg" alt="CoTutorial" />
    
  </div>
  <div class="author-info">
    <h2>
      CoTutorial<br />
      <small
        >Twitter: <a href="https://twitter.com/wisnusaputradev">@CoTutorial</a></small
      >
    </h2>
    <p>
      Hey, I'm Elliot and I've been working on TutorialEdge for the last 4 years! If my work has helped you in any way, shape, or form then please consider supporting my work.
    </p>

    <a style="float: left; margin-right: 10px;" href="#"><img class="patron" src="https://images.tutorialedge.net/images/patreon.png" alt="become a patron"/></a>
    <a style="float: left;" href="#"><img src="https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png" alt="Buy Me A Coffee" style="height: auto !important;width: auto !important;" ></a>
    
  </div>
</div>


                </article>
                <div class="comments">
          <div class="content">
    
    
    

    <script>
        function loadAPI() {
            var js = document.createElement('script');
            js.src = '//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v4.0&appId=493615514813695&autoLogAppEvents=1';
            document.body.appendChild(js);
        }
        window.onscroll = function () {
            var rect = document.getElementById('comments').getBoundingClientRect();
            if (rect.top < window.innerHeight) {
                loadAPI();
                window.onscroll = null;
            } 
        }
        </script>
    <div id="fb-root"></div>
    <div class="fb-comments comments" id="comments" data-href="https://cotutorial.github.io/python/concurrency/asyncio-synchronization-primitives-tutorial/" data-width="100%" data-numposts="5"></div>                  
</div>

        </div>
            </div>

            <div class="col-sm-3 col-md-2">
                <div id="right-sidebar">
                    <div class="toc">
                        <h4>Table Of Contents</h4>
                        <nav id="TableOfContents">
<ul>
<li><a href="#video-tutorial">Video Tutorial</a></li>
<li><a href="#why-are-these-important">Why Are These Important?</a></li>
<li><a href="#locks">Locks</a>
<ul>
<li><a href="#a-simple-lock-example">A Simple Lock Example</a></li>
<li><a href="#output">Output</a></li>
</ul></li>
<li><a href="#queues">Queues</a>
<ul>
<li><a href="#simple-implementation">Simple Implementation</a></li>
<li><a href="#output-1">Output</a></li>
</ul></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</nav>
                    </div>
                    <hr/>
                    <div id="codefund">
                        
                    </div>
                    <script src="https://codefund.io/properties/330/funder.js" async="async"></script>
                    <div class="clear"></div>
                </div>
            </div>

        </div>
    </div>
</div>


<script src="../../../js/sticky-sidebar.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.0/anchor.min.js"></script>
<script>
    
    document.addEventListener("DOMContentLoaded", function(event) {
        var sidebar = new StickySidebar("#right-sidebar", {
            topSpacing: 10
        });
        anchors.options = {
            visible: "always",
            placement: "left"
        };
        anchors.add(
            ".content > h1, .content > h2, .content > h3, .content > h4"
        );
    });
</script>


<div class="blue-spacer"></div>

<footer class="page-footer">
    <div class="row">
        <div class="col l3 m6 s12">
            <div class="padded">
                <h3>Courses</h3>
                <ul>
                    <li><a href="https://cotutorial.github.io/python/">Python</a></li>
                    <li><a href="https://cotutorial.github.io/angular/">Angular</a></li>
                    <li><a href="https://cotutorial.github.io/golang/">Golang</a></li>
                    <li><a href="https://cotutorial.github.io/artificial-intelligence/">Artificial Intelligence</a></li>
                    <li><a href="https://cotutorial.github.io/webdev/">Web Development</a></li>
                </ul>
            </div>
        </div>
        <div class="col l3 m6 s12">
            <div class="padded">
                <h3>Quick Links</h3>

                <ul>
                    <li><a href="https://cotutorial.github.io/search/">Search Page</a></li>
                    <li><a href="https://cotutorial.github.io/about/">About</a></li>
                    <li><a href="https://cotutorial.github.io/get-involved/">Get Involved</a></li>
                </ul>
                <h3>Suggested Resources</h3>
                <ul>
                    <li><a href="https://cotutorial.github.io/uses/">My Hardware + Software Recording Setup </a></li>
                </ul>
            </div>
        </div>
        <div class="col l3 m6 s12">
            <div class="padded">
                <h3>Follow Me</h3>
                <ul>
                    <li><a href="https://twitter.com/wisnusaputradev">@wisnusaputradev</a></li>
                    <li><a href="https://www.facebook.com/wisnusaputradev">Wisnu Saputra</a></li>
                    <li><a href="https://github.com/saputrago">saputrago</a></li>
                </ul>
            </div>
        </div>
        <div class="col l3 m12 s12 footer-special">
            <div class="logo">
                <a href="https://cotutorial.github.io/"><img alt="tutorialedge logo" src="../../../images/svg/logo.svg" /> CoTutorial</a>
            </div>
            <div class="padded">
                <p>CoTutorial is a totally free programming tutorial site that has been built with the intention of helping as many people as possible learn to program. The site is also completely opensourced and you can contribue here: <a href="https://github.com/saputrago">Project</a>,
                    any pull requests will be greatly appreciated!</p>
            </div>
        </div>
    </div>
    <div class="footer-copyright none">
        <span class="float-left">CoTutorial © 2019 Copyright</span>
        <span class="float-right" id="page-id">c78e1119a2bc987c7d1452b8735e6aaa</span>
    </div>
</footer>



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-10255990-23"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-10255990-23');
</script>
<script type="text/javascript">
    function init() {
        var imgDefer = document.getElementsByTagName('img');
        
        
        
        
        
        for (var i = 0; i < imgDefer.length; i++) {
            if (imgDefer[i].getAttribute('data-src')) {
                imgDefer[i].setAttribute('src', imgDefer[i].getAttribute('data-src'));
            }
        }

    }

    window.onload = init;
</script>

</div>
</body>

</html>