<!DOCTYPE html>
<html lang="id-ID">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width">
    <meta name="google-site-verification" content="qMqQROYQaYZMrlMxnronbkhUycW3pBOAEH1QqdAbW1s" />
    <meta name="msvalidate.01" content="CEE7BB7D58F4339402A05A52C8D91A35" />
    <meta name="description"
        content="Hundreds of free tutorials for cutting edge languages and frameworks.">
    
    <meta name="author" content="Wisnu Saputra">
    <meta property="og:site_name" content="CoTutorial" />

    <title>Building a RESTful API using Express and Typescript | CoTutorial</title>


    <link rel="icon" type="image/png" href="https://images.tutorialedge.net/images/favicon.ico">
    <link media="all" defer rel="stylesheet" href="https://use.typekit.net/jnu8xif.css">
    <link media="all" defer href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
        crossorigin="anonymous">
    <link media="all" defer rel="stylesheet" href="https://cotutorial.github.io/css/style.css"> 
    <meta name="generator" content="Hugo 0.57.2" />
    <script src="../../js/jquery-3.4.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"
        integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o"
        crossorigin="anonymous"></script>
    <meta content='100023577212451' property='fb:admins' />
    <meta content="493615514813695" property="fb:app_id" />

</head>

<body>
    <div id="dynamicApp">
        <nav class="navbar navbar-expand-lg">
            
            <a class="navbar-brand" href="../../">
                <img alt="tutorialedge logo" src="../../images/svg/logo.svg" alt="CoTutorial">
                <span>CoTutorial</span>
            </a>
            

            
            <button class="navbar-toggler text-white" type="button" data-toggle="collapse"
                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <img src="../../images/svg/hamburger.svg" alt="hamburger menu" />
            </button>
            

            <div class="collapse navbar-collapse justify-content-between" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/angular/"><img alt="angular logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/angular.svg" /> Angular</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/typescript/"><img alt="angular logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/typescript.png" /> TypeScript</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/cloud/"><img alt="cloud logo"
                                src="data:image/png.svg;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/cloud.svg" /> Cloud</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/python/"><img alt="python logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/python.svg" />Python</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/golang/"><img alt="golang logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/golang.svg" />Golang</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/rust/"><img alt="rust logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/rust-logo.png" />Rust</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/webdev/"><img alt="webdev logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="../../images/svg/logo.svg" />Web Dev</a>
                    </li>
                </ul>

            </div>
        </nav>


<div class="top-bar">
    <div class="container">
        <h1>
            
            <img src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" data-src="https://images.tutorialedge.net/images/typescript.png" alt="Building a RESTful API using Express and Typescript Image" />  Building a RESTful API using Express and Typescript
        </h1>
        <div class="post-info">
            <div class="post-info-inner">
                <span>
            
            <img class="author" src="../../images/svg/logo.svg" alt="CoTutorial" />
            
            <a href="https://twitter.com/wisnusaputradev">CoTutorial</a>
          </span>

                <span><img class="icon" src="https://tutorialedge.net/images/svg/clock.svg" alt="clock"/>6 Minutes</span>
                <span><img class="icon" src="https://tutorialedge.net/images/svg/calendar.svg" alt="clock"/> Mar 28, 2018</span>

                <span>
            
            <a href="../../tags/typescript"
              ><span class="badge badge-pill badge-info">typescript</span></a>
                
            <a href="../../tags/express"
              ><span class="badge badge-pill badge-info">express</span></a>
                
                </span>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="content-container">
        <div class="row">

            <div class="d-none d-sm-none col-sm-3 d-md-block">
                <div class="sidebar">
                    <div id="sidebar small-no-show">

  <div class="right-sidebar youtube-subscribe">
    <h3>Site Sponsors</h3>
    <a href="#"><img class="patron" src="https://images.tutorialedge.net/images/DigitalOcean.png" style="width: 100%; height: auto; margin: 0; " alt="Amazing Site Sponsors!"/></a>
    <hr/>
    <h3>Support The Site</h3>
    <a href="#"><img class="patron" src="https://images.tutorialedge.net/images/patreon.png" alt="become a patron"/></a>
    <div class="clear"></div>
    <a href="#"><img src="https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png" alt="Buy Me A Coffee" style="height: auto !important;width: auto !important;" ></a>
  </div>


  <div class="right-sidebar small-no-show">
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">chai</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/typescript/testing-typescript-api-with-mocha-chai/">Testing a TypeScript API With Mocha and Chai</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">express</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/typescript/typescript-socket-io-tutorial/">Getting Started with Typescript and Socket.Io - Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/typescript/creating-rest-api-express-typescript/">Building a RESTful API using Express and Typescript</a></li>
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">jest</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/typescript/testing-typescript-api-with-jest/">Testing Typescript Api With Jest and Supertest</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">mocha</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/typescript/testing-typescript-api-with-mocha-chai/">Testing a TypeScript API With Mocha and Chai</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">mongodb</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/typescript/typescript-mongodb-beginners-tutorial/">Typescript REST API And MongoDB Beginners Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    
  </div>

</div>
                </div>
            </div>

            <div class="col-sm-9 col-md-7">
                <article class="content" v-pre>
                    

<p>In this tutorial, we are going to be building a REST API using both <code>express</code>
and TypeScript! This REST API will simply return a status depending on what API
endpoint we hit using our HTTP Client.</p>

<h1 id="prerequisites">Prerequisites</h1>

<p>You will require at least the following:</p>

<ul>
<li>TypeScript 2.8.1</li>
<li>The Yarn Package Manager</li>
<li>ExpressJS</li>
</ul>

<h1 id="our-project-layout">Our Project Layout</h1>

<p>So within our project, we are going to create a couple of incredibly simple
endpoints that will simply return a few simple strings, depending on what <code>HTTP</code>
verb is used to hit said route.</p>

<p>We&rsquo;ll be using the <code>tsc</code> compiler to transpile our TypeScript code back to
normal JavaScript and then we&rsquo;ll be running this built code using <code>nodemon</code>.</p>

<h1 id="package-json">Package.json</h1>

<p>We&rsquo;ll need to start by initializing our project using the <code>npm init</code> command.
This will generate the initial version of our <code>package.json</code> and allow us to
specify any dependencies and scripts our project may need. Once you&rsquo;ve run
through this basic initialization, let&rsquo;s add a few <code>scripts</code> to our
<code>package.json</code> that will enable us to compile and run our TypeScript
application:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;scripts&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {
    <span style="color:#f92672">&#34;watch-ts&#34;</span>: <span style="color:#e6db74">&#34;tsc -w&#34;</span>,
    <span style="color:#f92672">&#34;watch-node&#34;</span>: <span style="color:#e6db74">&#34;nodemon dist/server.js&#34;</span>,
    <span style="color:#f92672">&#34;watch&#34;</span>: <span style="color:#e6db74">&#34;concurrently -k -p \&#34;[{name}]\&#34; -n \&#34;TypeScript, Node\&#34; -c \&#34;yello.bold, cyan.bold\&#34; \&#34;yarn run watch-ts\&#34; \&#34;yarn run watch-node\&#34;&#34;</span>
}</code></pre></div>
<p>The key one to note is the <code>watch</code> script which will concurrently watch our
typescript application for changes and subsequently run the built <code>server.js</code>
file using <code>nodemon</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">{
  <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;express-api&#34;</span>,
  <span style="color:#e6db74">&#34;version&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;1.0.0&#34;</span>,
  <span style="color:#e6db74">&#34;main&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;index.js&#34;</span>,
  <span style="color:#e6db74">&#34;license&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;MIT&#34;</span>,
  <span style="color:#e6db74">&#34;scripts&#34;</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#34;watch-ts&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;tsc -w&#34;</span>,
    <span style="color:#e6db74">&#34;watch-node&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;nodemon dist/server.js&#34;</span>,
    <span style="color:#e6db74">&#34;watch&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;concurrently -k -p \&#34;[{name}]\&#34; -n \&#34;TypeScript, Node\&#34; -c \&#34;yello.bold, cyan.bold\&#34; \&#34;yarn run watch-ts\&#34; \&#34;yarn run watch-node\&#34;&#34;</span>
  },
  <span style="color:#e6db74">&#34;dependencies&#34;</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#34;@types/express&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^4.11.1&#34;</span>,
    <span style="color:#e6db74">&#34;concurrently&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^3.5.1&#34;</span>,
    <span style="color:#e6db74">&#34;express&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^4.16.3&#34;</span>
  }
}
</code></pre></div>
<p>Should we try to run our <code>watch</code> script by calling <code>npm run watch</code>, you should
notice it fails. This is because we haven&rsquo;t yet specified our <code>tsconfig.json</code>
and as such our <code>tsc -W</code> fails to execute.</p>

<h1 id="our-tsconfig-json">Our tsconfig.json</h1>

<p>Create a new <code>tsconfig.json</code> file within your root directory and add the
following configuration:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;compilerOptions&#34;</span>: {
    <span style="color:#f92672">&#34;module&#34;</span>: <span style="color:#e6db74">&#34;commonjs&#34;</span>,
    <span style="color:#f92672">&#34;esModuleInterop&#34;</span>: <span style="color:#66d9ef">false</span>,
    <span style="color:#f92672">&#34;target&#34;</span>: <span style="color:#e6db74">&#34;es6&#34;</span>,
    <span style="color:#f92672">&#34;noImplicitAny&#34;</span>: <span style="color:#66d9ef">true</span>,
    <span style="color:#f92672">&#34;moduleResolution&#34;</span>: <span style="color:#e6db74">&#34;node&#34;</span>,
    <span style="color:#f92672">&#34;sourceMap&#34;</span>: <span style="color:#66d9ef">true</span>,
    <span style="color:#f92672">&#34;outDir&#34;</span>: <span style="color:#e6db74">&#34;dist&#34;</span>,
    <span style="color:#f92672">&#34;baseUrl&#34;</span>: <span style="color:#e6db74">&#34;.&#34;</span>,
    <span style="color:#f92672">&#34;paths&#34;</span>: {
      <span style="color:#f92672">&#34;*&#34;</span>: [<span style="color:#e6db74">&#34;node_modules/&#34;</span>, <span style="color:#e6db74">&#34;src/types/*&#34;</span>]
    }
  },
  <span style="color:#f92672">&#34;include&#34;</span>: [<span style="color:#e6db74">&#34;src/**/*&#34;</span>]
}</code></pre></div>
<p>The key things to note in this <code>tsconfig.json</code> file are that we are using
<code>commonjs</code> to resolve our node modules. We are also targetting <code>es6</code> as the
ECMAScript version we wish to transpile our TypeScript code down to. <code>outDir</code>
specifies the directory that our built JavaScript files will be pushed into and
then <code>paths</code> specifies where to resolve the <code>node_modules</code> and the <code>types</code> that
our project will require.</p>

<p>Finally, within our <code>include</code> array, we specify all of the locations in which we
will be building up our project. For the purpose of this tutorial, we&rsquo;ll be
adding all of our code to a <code>src</code> directory and we want any <code>.ts</code> files
underneath that directory to be included when our project is being rebuilt.</p>

<h1 id="initial-dependencies">Initial Dependencies</h1>

<p>Before we can start coding up our REST API, we&rsquo;ll need to install any
dependencies we may be using. To do this, call the following <code>npm install</code>
command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> npm install express <span style="color:#f92672">@</span>types<span style="color:#f92672">/</span>express <span style="color:#f92672">--</span><span style="color:#66d9ef">save</span><span style="color:#f92672">-</span>dev</code></pre></div>
<p>Now that we have these included within our project, we can start programming!</p>

<h1 id="our-app-ts-file">Our app.ts File</h1>

<p>Let&rsquo;s begin programming by creating our <code>app.ts</code> file. Within this we are going
to import the <code>express</code> node module and then set up our <code>express</code> server. This
includes setting up a simple endpoint within our application that will simple
return <code>Hi</code> whenever that route is hit.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">express</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;express&#34;</span>);

<span style="color:#75715e">// Our Express APP config
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">express</span>();
<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#34;port&#34;</span>, <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">PORT</span> <span style="color:#f92672">||</span> <span style="color:#ae81ff">3000</span>);

<span style="color:#75715e">// API Endpoints
</span><span style="color:#75715e"></span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;/&#34;</span>, (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) <span style="color:#f92672">=&gt;</span> {
  <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>(<span style="color:#e6db74">&#34;Hi&#34;</span>);
});

<span style="color:#75715e">// export our app
</span><span style="color:#75715e"></span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">app</span>;</code></pre></div>
<h1 id="our-server-ts-file">Our server.ts File</h1>

<p>Our <code>/src/server.ts</code> file will act as the entry point for our REST API. This
will kick off our application and start listening for incoming requests. We&rsquo;ll
first want to import the express application that we&rsquo;ve defined within our
<code>app.ts</code> file and then start up our server by calling <code>app.listen</code>, just as you
normally would with a traditional ExpressJS server.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">app</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./app&#34;</span>;

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">server</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">listen</span>(<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;port&#34;</span>), () <span style="color:#f92672">=&gt;</span> {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(
    <span style="color:#e6db74">&#34;App is running on http://localhost:%d in %s mode&#34;</span>,
    <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;port&#34;</span>),
    <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;env&#34;</span>)
  );
});

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">server</span>;</code></pre></div>
<p>With this now added to our project, we can check that everything is working as
expected by calling <code>npm run watch</code> and checking to see if our application
builds and starts as we would expect it to. Once you have kicked off this
<code>watch</code> script, you should be able to navigate to <code>http://localhost:3000/</code>
within your browser or with your REST client of choice, and it should deliver
<code>Hi</code> back to you. Awesome, we now have the base upon which we will be building
the rest of our RESTful API!</p>

<h1 id="our-status-controller">Our Status Controller</h1>

<p>Now that we have our base API, we want to expand upon it a bit and create a few
new API endpoints that we can interact with. We will want to create a new status
controller that will return different status strings depending on what API
endpoint is called. We&rsquo;ll call this <code>./src/controllers/status.ts</code> within our
application and we will add the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Request</span>, <span style="color:#a6e22e">Response</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;express&#34;</span>;

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">hi</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">req</span>: <span style="color:#66d9ef">Request</span>, <span style="color:#a6e22e">res</span>: <span style="color:#66d9ef">Response</span>) <span style="color:#f92672">=&gt;</span> {
  <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>(<span style="color:#e6db74">&#34;hello&#34;</span>);
};

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">hello</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">req</span>: <span style="color:#66d9ef">Request</span>, <span style="color:#a6e22e">res</span>: <span style="color:#66d9ef">Response</span>) <span style="color:#f92672">=&gt;</span> {
  <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>(<span style="color:#e6db74">&#34;how&#39;s it going?&#34;</span>);
};

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">awesome</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">req</span>: <span style="color:#66d9ef">Request</span>, <span style="color:#a6e22e">res</span>: <span style="color:#66d9ef">Response</span>) <span style="color:#f92672">=&gt;</span> {
  <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>(<span style="color:#e6db74">&#34;EVERYTHING IS AWESOME&#34;</span>);
};</code></pre></div>
<h1 id="running-our-build-server">Running our Build Server</h1>

<p>In order to run our REST API locally, you can run the <code>watch</code> script like so:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ yarn run watch</code></pre></div>
<p>This will continuously watch for changes and serve our application on port 3000
like so:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#ae81ff">0</span>:23:48 - File change detected. Starting incremental compilation...
<span style="color:#f92672">[</span>TypeScript<span style="color:#f92672">]</span>
<span style="color:#f92672">[</span>TypeScript<span style="color:#f92672">]</span>
<span style="color:#f92672">[</span>TypeScript<span style="color:#f92672">]</span> <span style="color:#ae81ff">20</span>:23:48 - Compilation complete. Watching <span style="color:#66d9ef">for</span> file changes.
<span style="color:#f92672">[</span>TypeScript<span style="color:#f92672">]</span>
<span style="color:#f92672">[</span>TypeScript<span style="color:#f92672">]</span>
<span style="color:#f92672">[</span> Node<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>nodemon<span style="color:#f92672">]</span> restarting due to changes...
<span style="color:#f92672">[</span> Node<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>nodemon<span style="color:#f92672">]</span> starting <span style="color:#e6db74">`</span>node dist/server.js<span style="color:#e6db74">`</span>
<span style="color:#f92672">[</span> Node<span style="color:#f92672">]</span> App is running on http://localhost:3000 in development mode</code></pre></div>
<h1 id="writing-our-mocha-test-suite">Writing our Mocha Test Suite</h1>

<p>Now that we&rsquo;ve written our simple TypeScript based RESTful API, we need to be
able to programatically check that it works! What good is a production bit of
software if we don&rsquo;t have a test suite for it!</p>

<p>In order to test this REST API, we&rsquo;ll be using <code>mocha</code> and <code>chai</code>. You can
install these dependencies like so:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s">npm install chai mocha ts<span style="color:#f92672">-</span>node <span style="color:#f92672">@</span>types<span style="color:#f92672">/</span>chai <span style="color:#f92672">@</span>types<span style="color:#f92672">/</span>mocha chai<span style="color:#f92672">-</span>http <span style="color:#f92672">@</span>types<span style="color:#f92672">/</span>chai<span style="color:#f92672">-</span>http typescript <span style="color:#f92672">--</span><span style="color:#66d9ef">save</span><span style="color:#f92672">-</span>dev</code></pre></div>
<p>Next, create a file called <code>./src/app.spec.ts</code> and add the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">app</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./app&#34;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">as</span> <span style="color:#a6e22e">chai</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;chai&#34;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">chaiHttp</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;chai-http&#34;</span>);

<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#34;mocha&#34;</span>;

<span style="color:#a6e22e">chai</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">chaiHttp</span>);
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">expect</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">chai</span>.<span style="color:#a6e22e">expect</span>;

<span style="color:#a6e22e">describe</span>(<span style="color:#e6db74">&#34;Hello API Request&#34;</span>, () <span style="color:#f92672">=&gt;</span> {
  <span style="color:#a6e22e">it</span>(<span style="color:#e6db74">&#34;should return hello on call&#34;</span>, <span style="color:#a6e22e">async</span> () <span style="color:#f92672">=&gt;</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">chai</span>
      .<span style="color:#a6e22e">request</span>(<span style="color:#a6e22e">app</span>)
      .<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;/&#34;</span>)
      .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">res</span> <span style="color:#f92672">=&gt;</span> {
        <span style="color:#a6e22e">chai</span>.<span style="color:#a6e22e">expect</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">text</span>).<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">eql</span>(<span style="color:#e6db74">&#34;hello&#34;</span>);
      });
  });
});</code></pre></div>
<p>You will also have to update the <code>package.json</code> to include a new <code>script</code> that
will run our <code>mocha</code> tests for us:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;mocha -r ts-node/register src/**/*.spec.ts&#34;</span></code></pre></div>
<p>Now that we&rsquo;ve create a simple test and updated our <code>package.json</code>, try running
our incredible new test suite by calling <code>npm run test</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s">➜  express<span style="color:#f92672">-</span>api npm run test

<span style="color:#f92672">&gt;</span> express<span style="color:#f92672">-</span>api<span style="color:#f92672">@</span><span style="color:#ae81ff">1.0.0</span> test <span style="color:#f92672">/</span>Users<span style="color:#f92672">/</span>elliot<span style="color:#f92672">/</span>Documents<span style="color:#f92672">/</span>Projects<span style="color:#f92672">/</span>tutorials<span style="color:#f92672">/</span>typescript<span style="color:#f92672">/</span>express<span style="color:#f92672">-</span>api
<span style="color:#f92672">&gt;</span> mocha <span style="color:#f92672">-</span>r ts<span style="color:#f92672">-</span>node<span style="color:#f92672">/</span>register src<span style="color:#f92672">/**/*</span><span style="color:#ae81ff">.</span>spec.ts



  Hello API Request
    ✓ should <span style="color:#66d9ef">return</span> hello on <span style="color:#66d9ef">call</span>


  <span style="color:#ae81ff">1</span> passing (<span style="color:#ae81ff">68</span>ms)</code></pre></div>
<p>And Voila! We now have a working test suite that we can expand out and ensure
that everything we write now works!</p>

<h1 id="conclusion">Conclusion</h1>

<p>Hopefully, you have found this tutorial useful. We managed to set up an entire
RESTful API written in TypeScript that automatically rebuilds whenever we make
any changes to our code.</p>
 
<div class="author-container">
  <div class="author-image">
    
    <img src="../../images/svg/logo.svg" alt="CoTutorial" />
    
  </div>
  <div class="author-info">
    <h2>
      CoTutorial<br />
      <small
        >Twitter: <a href="https://twitter.com/wisnusaputradev">@CoTutorial</a></small
      >
    </h2>
    <p>
      Hey, I'm Elliot and I've been working on TutorialEdge for the last 4 years! If my work has helped you in any way, shape, or form then please consider supporting my work.
    </p>

    <a style="float: left; margin-right: 10px;" href="#"><img class="patron" src="https://images.tutorialedge.net/images/patreon.png" alt="become a patron"/></a>
    <a style="float: left;" href="#"><img src="https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png" alt="Buy Me A Coffee" style="height: auto !important;width: auto !important;" ></a>
    
  </div>
</div>


                </article>
                <div class="comments">
          <div class="content">
    
    
    

    <script>
        function loadAPI() {
            var js = document.createElement('script');
            js.src = '//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v4.0&appId=493615514813695&autoLogAppEvents=1';
            document.body.appendChild(js);
        }
        window.onscroll = function () {
            var rect = document.getElementById('comments').getBoundingClientRect();
            if (rect.top < window.innerHeight) {
                loadAPI();
                window.onscroll = null;
            } 
        }
        </script>
    <div id="fb-root"></div>
    <div class="fb-comments comments" id="comments" data-href="https://cotutorial.github.io/typescript/creating-rest-api-express-typescript/" data-width="100%" data-numposts="5"></div>                  
</div>

        </div>
            </div>

            <div class="col-sm-3 col-md-2">
                <div id="right-sidebar">
                    <div class="toc">
                        <h4>Table Of Contents</h4>
                        <nav id="TableOfContents">
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#our-project-layout">Our Project Layout</a></li>
<li><a href="#package-json">Package.json</a></li>
<li><a href="#our-tsconfig-json">Our tsconfig.json</a></li>
<li><a href="#initial-dependencies">Initial Dependencies</a></li>
<li><a href="#our-app-ts-file">Our app.ts File</a></li>
<li><a href="#our-server-ts-file">Our server.ts File</a></li>
<li><a href="#our-status-controller">Our Status Controller</a></li>
<li><a href="#running-our-build-server">Running our Build Server</a></li>
<li><a href="#writing-our-mocha-test-suite">Writing our Mocha Test Suite</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</nav>
                    </div>
                    <hr/>
                    <div id="codefund">
                        
                    </div>
                    <script src="https://codefund.io/properties/330/funder.js" async="async"></script>
                    <div class="clear"></div>
                </div>
            </div>

        </div>
    </div>
</div>


<script src="../../js/sticky-sidebar.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.0/anchor.min.js"></script>
<script>
    
    document.addEventListener("DOMContentLoaded", function(event) {
        var sidebar = new StickySidebar("#right-sidebar", {
            topSpacing: 10
        });
        anchors.options = {
            visible: "always",
            placement: "left"
        };
        anchors.add(
            ".content > h1, .content > h2, .content > h3, .content > h4"
        );
    });
</script>


<div class="blue-spacer"></div>

<footer class="page-footer">
    <div class="row">
        <div class="col l3 m6 s12">
            <div class="padded">
                <h3>Courses</h3>
                <ul>
                    <li><a href="https://cotutorial.github.io/python/">Python</a></li>
                    <li><a href="https://cotutorial.github.io/angular/">Angular</a></li>
                    <li><a href="https://cotutorial.github.io/golang/">Golang</a></li>
                    <li><a href="https://cotutorial.github.io/artificial-intelligence/">Artificial Intelligence</a></li>
                    <li><a href="https://cotutorial.github.io/webdev/">Web Development</a></li>
                </ul>
            </div>
        </div>
        <div class="col l3 m6 s12">
            <div class="padded">
                <h3>Quick Links</h3>

                <ul>
                    <li><a href="https://cotutorial.github.io/search/">Search Page</a></li>
                    <li><a href="https://cotutorial.github.io/about/">About</a></li>
                    <li><a href="https://cotutorial.github.io/get-involved/">Get Involved</a></li>
                </ul>
                <h3>Suggested Resources</h3>
                <ul>
                    <li><a href="https://cotutorial.github.io/uses/">My Hardware + Software Recording Setup </a></li>
                </ul>
            </div>
        </div>
        <div class="col l3 m6 s12">
            <div class="padded">
                <h3>Follow Me</h3>
                <ul>
                    <li><a href="https://twitter.com/wisnusaputradev">@wisnusaputradev</a></li>
                    <li><a href="https://www.facebook.com/wisnusaputradev">Wisnu Saputra</a></li>
                    <li><a href="https://github.com/saputrago">saputrago</a></li>
                </ul>
            </div>
        </div>
        <div class="col l3 m12 s12 footer-special">
            <div class="logo">
                <a href="https://cotutorial.github.io/"><img alt="tutorialedge logo" src="../../images/svg/logo.svg" /> CoTutorial</a>
            </div>
            <div class="padded">
                <p>CoTutorial is a totally free programming tutorial site that has been built with the intention of helping as many people as possible learn to program. The site is also completely opensourced and you can contribue here: <a href="https://github.com/saputrago">Project</a>,
                    any pull requests will be greatly appreciated!</p>
            </div>
        </div>
    </div>
    <div class="footer-copyright none">
        <span class="float-left">CoTutorial © 2019 Copyright</span>
        <span class="float-right" id="page-id">2b963961e387cba4abfc8e96a85832ee</span>
    </div>
</footer>



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-10255990-23"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-10255990-23');
</script>
<script type="text/javascript">
    function init() {
        var imgDefer = document.getElementsByTagName('img');
        
        
        
        
        
        for (var i = 0; i < imgDefer.length; i++) {
            if (imgDefer[i].getAttribute('data-src')) {
                imgDefer[i].setAttribute('src', imgDefer[i].getAttribute('data-src'));
            }
        }

    }

    window.onload = init;
</script>

</div>
</body>

</html>