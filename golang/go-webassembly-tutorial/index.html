<!DOCTYPE html>
<html lang="id-ID">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width">
    <meta name="google-site-verification" content="qMqQROYQaYZMrlMxnronbkhUycW3pBOAEH1QqdAbW1s" />
    <meta name="msvalidate.01" content="CEE7BB7D58F4339402A05A52C8D91A35" />
    <meta name="description"
        content="Hundreds of free tutorials for cutting edge languages and frameworks.">
    
    <meta name="author" content="Wisnu Saputra">
    <meta property="og:site_name" content="CoTutorial" />

    <title>Go WebAssembly Tutorial - Building a Calculator Tutorial | CoTutorial</title>


    <link rel="icon" type="image/png" href="https://images.tutorialedge.net/images/favicon.ico">
    <link media="all" defer rel="stylesheet" href="https://use.typekit.net/jnu8xif.css">
    <link media="all" defer href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
        crossorigin="anonymous">
    <link media="all" defer rel="stylesheet" href="https://cotutorial.github.io/css/style.css"> 
    <meta name="generator" content="Hugo 0.57.2" />
    <script src="../../js/jquery-3.4.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"
        integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o"
        crossorigin="anonymous"></script>
    <meta content='100023577212451' property='fb:admins' />
    <meta content="493615514813695" property="fb:app_id" />

</head>

<body>
    <div id="dynamicApp">
        <nav class="navbar navbar-expand-lg">
            
            <a class="navbar-brand" href="../../">
                <img alt="tutorialedge logo" src="../../images/svg/logo.svg" alt="CoTutorial">
                <span>CoTutorial</span>
            </a>
            

            
            <button class="navbar-toggler text-white" type="button" data-toggle="collapse"
                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <img src="../../images/svg/hamburger.svg" alt="hamburger menu" />
            </button>
            

            <div class="collapse navbar-collapse justify-content-between" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/angular/"><img alt="angular logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/angular.svg" /> Angular</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/typescript/"><img alt="angular logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/typescript.png" /> TypeScript</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/cloud/"><img alt="cloud logo"
                                src="data:image/png.svg;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/cloud.svg" /> Cloud</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/python/"><img alt="python logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/python.svg" />Python</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/golang/"><img alt="golang logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/golang.svg" />Golang</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/rust/"><img alt="rust logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/rust-logo.png" />Rust</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/webdev/"><img alt="webdev logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="../../images/svg/logo.svg" />Web Dev</a>
                    </li>
                </ul>

            </div>
        </nav>


<div class="top-bar">
    <div class="container">
        <h1>
            
            <img src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" data-src="https://images.tutorialedge.net/images/golang.svg" alt="Go WebAssembly Tutorial - Building a Calculator Tutorial Image" />  Go WebAssembly Tutorial - Building a Calculator Tutorial
        </h1>
        <div class="post-info">
            <div class="post-info-inner">
                <span>
            
            <img class="author" src="../../images/svg/logo.svg" alt="CoTutorial" />
            
            <a href="https://twitter.com/wisnusaputradev">CoTutorial</a>
          </span>

                <span><img class="icon" src="https://tutorialedge.net/images/svg/clock.svg" alt="clock"/>8 Minutes</span>
                <span><img class="icon" src="https://tutorialedge.net/images/svg/calendar.svg" alt="clock"/> Aug 25, 2018</span>

                <span>
            
            <a href="../../tags/advanced"
              ><span class="badge badge-pill badge-info">advanced</span></a>
                
                </span>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="content-container">
        <div class="row">

            <div class="d-none d-sm-none col-sm-3 d-md-block">
                <div class="sidebar">
                    <div id="sidebar small-no-show">

  <div class="right-sidebar youtube-subscribe">
    <h3>Site Sponsors</h3>
    <a href="#"><img class="patron" src="https://images.tutorialedge.net/images/DigitalOcean.png" style="width: 100%; height: auto; margin: 0; " alt="Amazing Site Sponsors!"/></a>
    <hr/>
    <h3>Support The Site</h3>
    <a href="#"><img class="patron" src="https://images.tutorialedge.net/images/patreon.png" alt="become a patron"/></a>
    <div class="clear"></div>
    <a href="#"><img src="https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png" alt="Buy Me A Coffee" style="height: auto !important;width: auto !important;" ></a>
  </div>


  <div class="right-sidebar small-no-show">
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">advanced</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/golang-websockets-tutorial/">Working with Websockets and Socket.IO in Go - Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-protocol-buffer-tutorial/">Go Protocol Buffer Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-webassembly-tutorial/">Go WebAssembly Tutorial - Building a Calculator Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-oauth2-tutorial/">Go Oauth2 Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-face-recognition-tutorial-part-one/">Go Face Recognition Tutorial - Part 1</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-encrypt-decrypt-aes-tutorial/">Go Encryption and Decryption using AES - Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/building-ci-cd-pipeline-go-projects/">Building a Solid Continuous Integration Pipeline with TravisCI for Your Go Projects</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/writing-frontend-web-framework-webassembly-go/">Writing a Frontend Web Framework with WebAssembly And Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/authenticating-golang-rest-api-with-jwts/">Securing Your Go REST APIs With JWTs</a></li>
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">beginner</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/getting-started-with-go/">Getting Started With Go</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-basic-types-tutorial/">Go Basic Types Tutorial</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-complex-types-tutorial/">Go Composite Types Tutorial</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-functions-tutorial/">Go Functions Tutorial</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-methods-tutorial/">Go Methods Tutorial</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-interfaces-tutorial/">Go Interfaces Tutorial</a></li>
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/reading-console-input-golang/">Reading in Console Input in Golang</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/executing-system-commands-with-golang/">Executing System Commands With Golang</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/parsing-json-with-golang/">Parsing JSON files With Golang</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/parsing-xml-with-golang/">Parsing XML Files With Golang</a></li>
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/the-go-init-function/">The Go init Function</a></li>
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-sorting-with-sort-tutorial/">Go Sorting With the sort Package - Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-ticker-tutorial/">Go Tickers Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-modules-tutorial/">Go Modules Tutorial</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-json-tutorial/">Go JSON Tutorial</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">concurrency</h4>
    <ul class="collection">
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/concurrency-with-golang-goroutines/">Concurrency With Golang Goroutines</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-mutex-tutorial/">Go Mutex Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-channels-tutorial/">Go Channels Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-waitgroup-tutorial/">Go WaitGroup Tutorial</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">docker</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-multi-stage-docker-tutorial/">Go Multi-Stage Docker Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-docker-tutorial/">Containerizing your Go Applications with Docker - Tutorial</a></li>
      
      
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">file-upload</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-file-upload-tutorial/">Uploading Files in Go - Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">filesystem</h4>
    <ul class="collection">
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/reading-writing-files-in-go/">Reading And Writing To Files in Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/temporary-files-directories-go-111/">Working with Temporary Files and Directories in Go 1.11</a></li>
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">graphql</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-graphql-beginners-tutorial-part-2/">Go Graphql Beginners Tutorial - Part 2</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-graphql-beginners-tutorial/">Go GraphQL Beginners Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">intermediate</h4>
    <ul class="collection">
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/an-intro-to-go-dep/">An Intro to Go Dep</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/consuming-restful-api-with-go/">Consuming A RESTful API With Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/creating-restful-api-with-golang/">Creating a RESTful API With Golang</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/creating-simple-web-server-with-golang/">Creating A Simple Web Server With Golang</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/building-a-cli-in-go/">Building a Network Command Line Interface in Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/writing-a-twitter-bot-golang/">Writing A Twitter Bot in Golang</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/golang-orm-tutorial/">Golang ORM Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/golang-mysql-tutorial/">Golang MySQL Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-closures-tutorial/">An Introduction to Go Closures - Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-variadic-function-tutorial/">Go Variadic Function Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/working-with-environment-variables-in-go/">Working With Environment Variables in Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-decorator-function-pattern-tutorial/">Go Decorator Function Pattern Tutorial</a></li>
      
      
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">misc</h4>
    <ul class="collection">
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/top-books-for-learning-golang/">The Best Books For Learning Golang</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/sending-email-using-go-and-mailgun/">Sending Email Using Go And Mailgun</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/implementing-bubble-sort-with-golang/">Implementing the Bubble Sort Algorithm using Golang</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/golang-integer-string-conversion-tutorial/">Golang Integer String Conversion Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">redis</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-redis-tutorial/">Getting Started with Redis and Go - Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">snippets</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/snippets/check-key-exists-in-map-go/">Check Key Exists in Map Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/snippets/concatenate-strings-in-go/">Concatenate Strings in Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/snippets/sort-map-by-value/">Sort Map by Value</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">testing</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/intro-testing-in-go/">An Introduction to Testing in Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/advanced-go-testing-tutorial/">Advanced Go Testing Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/benchmarking-your-go-programs/">An Introduction to Benchmarking Your Go Programs</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/improving-your-tests-with-testify-go/">Improving Your Go Tests and Mocks With Testify</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">tools</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/improving-go-workflow-with-git-hooks/">Improving Your Go Development Workflow With Git Hooks</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/makefiles-for-go-developers/">Makefiles for Go Developers</a></li>
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">websockets</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-websocket-tutorial/">Go Websocket Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/building-realtime-youtube-sub-monitor-go/">Building a Real-time YouTube Subscriber Monitor in Go</a></li>
      
      
    </ul>
    
    

    
    
    
    

    
    
  </div>

</div>
                </div>
            </div>

            <div class="col-sm-9 col-md-7">
                <article class="content" v-pre>
                    

<blockquote>
<p><strong>Update</strong> - The code in this tutorial has been updated to work with the breaking changes in Go v1.12</p>
</blockquote>

<p>Welcome All! With Go v1.11 having just been released with an experimental port
to WebAssembly included, I thought it would be awesome to see how we can write
our own Go programs that compile straight to WebAssembly!</p>

<p>So, in this article, we are going to be building a really simple calculator to
give us an idea as to how we can write functions that can be exposed to the
frontend, evaluate DOM elements and subsequently update any DOM elements with
the results from any functions we call.</p>

<p>This will hopefully show you what it takes to write and compile your own
Go-based programs for your frontend applications.</p>

<blockquote>
<p><strong>Note -</strong> If you haven&rsquo;t guessed from the opening line, Go v1.11 will be
required in order for this tutorial to work!</p>
</blockquote>

<h1 id="video-tutorial">Video Tutorial</h1>

<p>If you want to support me and my efforts then check out the video version of
this tutorial and subscribe to my channel!</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/4kBvvk2Bzis" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

<h1 id="introduction">Introduction</h1>

<p>So what does this really mean for Go and Web developers? Well, it gives us the
ability to write our frontend web apps using the Go language and subsequently
all its cool features such as its type safety, its
<a href="../../golang/concurrency-with-golang-goroutines/">goroutines</a> and more.</p>

<p>Now, this isn&rsquo;t the first time we&rsquo;ve seen the Go language being used for
frontend purposes. GopherJS has been around for quite a while now and is pretty
damn mature, however, the difference is that it compiles Go code to JS and not
to WebAssembly.</p>

<h1 id="a-simple-example">A Simple Example</h1>

<p>Let&rsquo;s start off with a really simple example, this will simply output
<code>Hello World</code> in the console whenever we click a button in our web page. Sounds
exciting I know, but we can very quickly build this up into something more
functional and cooler:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
    println(<span style="color:#e6db74">&#34;Hello World&#34;</span>)
}</code></pre></div>
<p>Now, in order to compile this, you&rsquo;ll have to set <code>GOARCH=wasm</code> and <code>GOOS=js</code>
and you&rsquo;ll also have to specify the name of your file using the <code>-o</code> flag like
so:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> GOARCH<span style="color:#f92672">=</span>wasm GOOS<span style="color:#f92672">=</span>js go build <span style="color:#f92672">-</span>o lib.wasm main.go</code></pre></div>
<p>This command should compile our code into a <code>lib.wasm</code> file within our current
working directory. We&rsquo;ll be using the <code>WebAssembly.instantiateStreaming()</code>
function to load this into our page within our <code>index.html</code>. Note - this code
was stolen from the official Go language repo:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
<span style="color:#75715e">&lt;!--
</span><span style="color:#75715e">Copyright 2018 The Go Authors. All rights reserved.
</span><span style="color:#75715e">Use of this source code is governed by a BSD-style
</span><span style="color:#75715e">license that can be found in the LICENSE file.
</span><span style="color:#75715e">--&gt;</span>
&lt;<span style="color:#f92672">html</span>&gt;
  &lt;<span style="color:#f92672">head</span>&gt;
    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span> /&gt;
    &lt;<span style="color:#f92672">title</span>&gt;Go wasm&lt;/<span style="color:#f92672">title</span>&gt;
  &lt;/<span style="color:#f92672">head</span>&gt;

  &lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wasm_exec.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;

    &lt;<span style="color:#f92672">script</span>&gt;
      <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">WebAssembly</span>.<span style="color:#a6e22e">instantiateStreaming</span>) {
        <span style="color:#75715e">// polyfill
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">WebAssembly</span>.<span style="color:#a6e22e">instantiateStreaming</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">importObject</span>) =&gt; {
          <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">source</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> (<span style="color:#66d9ef">await</span> <span style="color:#a6e22e">resp</span>).<span style="color:#a6e22e">arrayBuffer</span>();
          <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">WebAssembly</span>.<span style="color:#a6e22e">instantiate</span>(<span style="color:#a6e22e">source</span>, <span style="color:#a6e22e">importObject</span>);
        };
      }

      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">go</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Go</span>();

      <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">mod</span>, <span style="color:#a6e22e">inst</span>;

      <span style="color:#a6e22e">WebAssembly</span>.<span style="color:#a6e22e">instantiateStreaming</span>(<span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#34;lib.wasm&#34;</span>), <span style="color:#a6e22e">go</span>.<span style="color:#a6e22e">importObject</span>).<span style="color:#a6e22e">then</span>(
        <span style="color:#a6e22e">result</span> =&gt; {
          <span style="color:#a6e22e">mod</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">module</span>;
          <span style="color:#a6e22e">inst</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">instance</span>;
          document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;runButton&#34;</span>).<span style="color:#a6e22e">disabled</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
        }
      );

      <span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">run</span>() {
        <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">go</span>.<span style="color:#a6e22e">run</span>(<span style="color:#a6e22e">inst</span>);
        <span style="color:#a6e22e">inst</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">WebAssembly</span>.<span style="color:#a6e22e">instantiate</span>(<span style="color:#a6e22e">mod</span>, <span style="color:#a6e22e">go</span>.<span style="color:#a6e22e">importObject</span>); <span style="color:#75715e">// reset instance
</span><span style="color:#75715e"></span>      }
    &lt;/<span style="color:#f92672">script</span>&gt;

    &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;run();&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;runButton&#34;</span> <span style="color:#a6e22e">disabled</span>&gt;Run&lt;/<span style="color:#f92672">button</span>&gt;
  &lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;</code></pre></div>
<p>We&rsquo;ll also need to copy the <code>wasm_exec.js</code> file from <code>misc/wasm</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">$ cp &#34;$(go env GOROOT)/misc/wasm/wasm_exec.js&#34; .</code></pre></div>
<p>And, we also have a simple <code>net/http</code> based file server, again stolen from
<a href="https://github.com/golang/go/wiki/WebAssembly">here</a>, to serve up our
<code>index.html</code> and our various other WebAssembly files:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
    <span style="color:#e6db74">&#34;flag&#34;</span>
    <span style="color:#e6db74">&#34;log&#34;</span>
    <span style="color:#e6db74">&#34;net/http&#34;</span>
)

<span style="color:#66d9ef">var</span> (
    <span style="color:#a6e22e">listen</span> = <span style="color:#a6e22e">flag</span>.<span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;listen&#34;</span>, <span style="color:#e6db74">&#34;:8080&#34;</span>, <span style="color:#e6db74">&#34;listen address&#34;</span>)
    <span style="color:#a6e22e">dir</span>    = <span style="color:#a6e22e">flag</span>.<span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;dir&#34;</span>, <span style="color:#e6db74">&#34;.&#34;</span>, <span style="color:#e6db74">&#34;directory to serve&#34;</span>)
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#a6e22e">flag</span>.<span style="color:#a6e22e">Parse</span>()
    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;listening on %q...&#34;</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">listen</span>)
    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ListenAndServe</span>(<span style="color:#f92672">*</span><span style="color:#a6e22e">listen</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">FileServer</span>(<span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Dir</span>(<span style="color:#f92672">*</span><span style="color:#a6e22e">dir</span>))))
}</code></pre></div>
<p>When you navigate to <code>localhost:8080</code> once you&rsquo;ve kicked off this server, you
should see that the <code>Run</code> button is clickable and if you open up your console in
the browser, you should see that it prints out <code>Hello World</code> every time you
click the button!</p>

<p>Awesome, we&rsquo;ve managed to successfully compile a really simple Go -&gt; WebAssembly
project and get it working in the browser.</p>

<h1 id="a-more-complex-example">A More Complex Example</h1>

<p>Now for the good bit. Say, we wanted to create a more complex example that
featured DOM manipulation, custom Go functions that could be bound to button
clicks and more. Well thankfully, it&rsquo;s not too difficult!</p>

<h2 id="registering-functions">Registering Functions</h2>

<p>We&rsquo;ll start off by creating a few functions of our own that we want to expose to
our frontend. I&rsquo;m feeling rather unoriginal today so these are going to be just
<code>add</code> and <code>subtract</code>.</p>

<p>These functions take in an array of type <code>js.Value</code> and use the
<code>js.Global().Set()</code> function to set <code>output</code> to equal the result of any
calculations done within our function. For good measure, we also print out to
the console what the result is as well:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">i</span> []<span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Value</span>) {
    <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;output&#34;</span>, <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">ValueOf</span>(<span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">Int</span>()<span style="color:#f92672">+</span><span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">Int</span>()))
    println(<span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">ValueOf</span>(<span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">Int</span>() <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">Int</span>()).<span style="color:#a6e22e">String</span>())
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">subtract</span>(<span style="color:#a6e22e">i</span> []<span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Value</span>) {
    <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;output&#34;</span>, <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">ValueOf</span>(<span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">Int</span>()<span style="color:#f92672">-</span><span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">Int</span>()))
    println(<span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">ValueOf</span>(<span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">Int</span>() <span style="color:#f92672">-</span> <span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">Int</span>()).<span style="color:#a6e22e">String</span>())
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">registerCallbacks</span>() {
    <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;add&#34;</span>, <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">NewCallback</span>(<span style="color:#a6e22e">add</span>))
    <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;subtract&#34;</span>, <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">NewCallback</span>(<span style="color:#a6e22e">subtract</span>))
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">struct</span>{}, <span style="color:#ae81ff">0</span>)

    println(<span style="color:#e6db74">&#34;WASM Go Initialized&#34;</span>)
    <span style="color:#75715e">// register functions
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">registerCallbacks</span>()
    <span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">c</span>
}</code></pre></div>
<p>You&rsquo;ll notice that we&rsquo;ve modified our <code>main</code> function slightly by calling <code>make</code>
and creating a new channel. This effectively turns our previously short-lived
program into a long-running one. We also call another function
<code>registerCallbacks()</code> that acts almost like a router, but instead creates new
Callbacks that effectively bind our newly created functions to our frontend.</p>

<p>In order for this to work, we have to very slightly modify the JavaScript code
within our <code>index.html</code> to run our program instance as soon as it&rsquo;s fetched it:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">go</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Go</span>();
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">mod</span>, <span style="color:#a6e22e">inst</span>;
<span style="color:#a6e22e">WebAssembly</span>.<span style="color:#a6e22e">instantiateStreaming</span>(<span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#34;lib.wasm&#34;</span>), <span style="color:#a6e22e">go</span>.<span style="color:#a6e22e">importObject</span>).<span style="color:#a6e22e">then</span>(
  <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">result</span> =&gt; {
    <span style="color:#a6e22e">mod</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">module</span>;
    <span style="color:#a6e22e">inst</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">instance</span>;
    <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">go</span>.<span style="color:#a6e22e">run</span>(<span style="color:#a6e22e">inst</span>);
  }
);
</code></pre></div>
<p>Load this up in your browser once again and you should see that, without any
button presses, <code>WASM Go Initialized</code> prints out in the console. This means that
everything has worked.</p>

<p>We can then start calling out to these functions from the likes of <code>&lt;button&gt;</code>
elements like so:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;add(2,3);&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;addButton&#34;</span>&gt;Add&lt;/<span style="color:#f92672">button</span>&gt;
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;subtract(10,3);&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;subtractButton&#34;</span>&gt;Subtract&lt;/<span style="color:#f92672">button</span>&gt;</code></pre></div>
<p>Remove the existing <code>Run</code> button and add these two new buttons to your
<code>index.html</code>. When you reload the page in the browser and open up the console,
you should be able to see the outputs of this function printing out.</p>

<p>We are slowly but surely starting to get somewhere with this!</p>

<h2 id="evaluating-dom-elements">Evaluating DOM Elements</h2>

<p>So, I guess the next stage, is to start evaluating DOM elements and using their
values instead of hard-coded values.</p>

<p>Let&rsquo;s modify the <code>add()</code> function so that I can pass in 2 <code>id</code>s of <code>&lt;input/&gt;</code>
elements and then add the values of these elements like so:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">i</span> []<span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Value</span>) {
    <span style="color:#a6e22e">value1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;document&#34;</span>).<span style="color:#a6e22e">Call</span>(<span style="color:#e6db74">&#34;getElementById&#34;</span>, <span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">String</span>()).<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;value&#34;</span>).<span style="color:#a6e22e">String</span>()
    <span style="color:#a6e22e">value2</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;document&#34;</span>).<span style="color:#a6e22e">Call</span>(<span style="color:#e6db74">&#34;getElementById&#34;</span>, <span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">String</span>()).<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;value&#34;</span>).<span style="color:#a6e22e">String</span>()
    <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;output&#34;</span>, <span style="color:#a6e22e">value1</span><span style="color:#f92672">+</span><span style="color:#a6e22e">value2</span>)
    println(<span style="color:#a6e22e">value1</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">value2</span>)
}</code></pre></div>
<p>We can then update our <code>index.html</code> to have the following code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;value1&#34;</span> /&gt;
&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;value2&#34;</span> /&gt;

&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;add(&#39;value1&#39;, &#39;value2&#39;);&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;addButton&#34;</span>&gt;Add&lt;/<span style="color:#f92672">button</span>&gt;</code></pre></div>
<p>If you enter some numeric values into both our inputs and then click the <code>Add</code>
button, you should hopefully see a concatenation of the two values print out in
the console.</p>

<p>What have we forgotten? We need to parse these string values as int values:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">i</span> []<span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Value</span>) {
    <span style="color:#a6e22e">value1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;document&#34;</span>).<span style="color:#a6e22e">Call</span>(<span style="color:#e6db74">&#34;getElementById&#34;</span>, <span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">String</span>()).<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;value&#34;</span>).<span style="color:#a6e22e">String</span>()
    <span style="color:#a6e22e">value2</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;document&#34;</span>).<span style="color:#a6e22e">Call</span>(<span style="color:#e6db74">&#34;getElementById&#34;</span>, <span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">String</span>()).<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;value&#34;</span>).<span style="color:#a6e22e">String</span>()

    <span style="color:#a6e22e">int1</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">Atoi</span>(<span style="color:#a6e22e">value1</span>)
    <span style="color:#a6e22e">int2</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">Atoi</span>(<span style="color:#a6e22e">value2</span>)

    <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;output&#34;</span>, <span style="color:#a6e22e">int1</span><span style="color:#f92672">+</span><span style="color:#a6e22e">int2</span>)
    println(<span style="color:#a6e22e">int1</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">int2</span>)
}</code></pre></div>
<p>You&rsquo;ll probably notice that I&rsquo;m not handling errors here as I&rsquo;m feeling lazy,
and this is just for show.</p>

<p>Try recompiling this code now and reloading your browser, you should notice that
if we enter the values <code>22</code> and <code>3</code> in both our inputs, it successfully outputs
<code>25</code> in the console.</p>

<h1 id="manipulating-dom-elements">Manipulating DOM elements</h1>

<p>Our calculator wouldn&rsquo;t be very good if it didn&rsquo;t actually report the results
within our page, so let&rsquo;s fix that now by taking in a third <code>id</code> that we&rsquo;ll
output the results to:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">i</span> []<span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Value</span>) {
    <span style="color:#a6e22e">value1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;document&#34;</span>).<span style="color:#a6e22e">Call</span>(<span style="color:#e6db74">&#34;getElementById&#34;</span>, <span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">String</span>()).<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;value&#34;</span>).<span style="color:#a6e22e">String</span>()
    <span style="color:#a6e22e">value2</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;document&#34;</span>).<span style="color:#a6e22e">Call</span>(<span style="color:#e6db74">&#34;getElementById&#34;</span>, <span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">String</span>()).<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;value&#34;</span>).<span style="color:#a6e22e">String</span>()

    <span style="color:#a6e22e">int1</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">Atoi</span>(<span style="color:#a6e22e">value1</span>)
    <span style="color:#a6e22e">int2</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">Atoi</span>(<span style="color:#a6e22e">value2</span>)

    <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;document&#34;</span>).<span style="color:#a6e22e">Call</span>(<span style="color:#e6db74">&#34;getElementById&#34;</span>, <span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">2</span>].<span style="color:#a6e22e">String</span>()).<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;value&#34;</span>, <span style="color:#a6e22e">int1</span><span style="color:#f92672">+</span><span style="color:#a6e22e">int2</span>)
}</code></pre></div>
<h1 id="updating-our-subtract-function">Updating our subtract function:</h1>

<p>Finally, let&rsquo;s update our subtract method:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">subtract</span>(<span style="color:#a6e22e">i</span> []<span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Value</span>) {
    <span style="color:#a6e22e">value1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;document&#34;</span>).<span style="color:#a6e22e">Call</span>(<span style="color:#e6db74">&#34;getElementById&#34;</span>, <span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">String</span>()).<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;value&#34;</span>).<span style="color:#a6e22e">String</span>()
    <span style="color:#a6e22e">value2</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;document&#34;</span>).<span style="color:#a6e22e">Call</span>(<span style="color:#e6db74">&#34;getElementById&#34;</span>, <span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">String</span>()).<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;value&#34;</span>).<span style="color:#a6e22e">String</span>()

    <span style="color:#a6e22e">int1</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">Atoi</span>(<span style="color:#a6e22e">value1</span>)
    <span style="color:#a6e22e">int2</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">Atoi</span>(<span style="color:#a6e22e">value2</span>)

    <span style="color:#a6e22e">js</span>.<span style="color:#a6e22e">Global</span>().<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;document&#34;</span>).<span style="color:#a6e22e">Call</span>(<span style="color:#e6db74">&#34;getElementById&#34;</span>, <span style="color:#a6e22e">i</span>[<span style="color:#ae81ff">2</span>].<span style="color:#a6e22e">String</span>()).<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;value&#34;</span>, <span style="color:#a6e22e">int1</span><span style="color:#f92672">-</span><span style="color:#a6e22e">int2</span>)
}</code></pre></div>
<p>Our finished <code>index.html</code> should look something like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
<span style="color:#75715e">&lt;!--
</span><span style="color:#75715e">Copyright 2018 The Go Authors. All rights reserved.
</span><span style="color:#75715e">Use of this source code is governed by a BSD-style
</span><span style="color:#75715e">license that can be found in the LICENSE file.
</span><span style="color:#75715e">--&gt;</span>
&lt;<span style="color:#f92672">html</span>&gt;
  &lt;<span style="color:#f92672">head</span>&gt;
    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span> /&gt;
    &lt;<span style="color:#f92672">title</span>&gt;Go wasm&lt;/<span style="color:#f92672">title</span>&gt;
  &lt;/<span style="color:#f92672">head</span>&gt;

  &lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wasm_exec.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;

    &lt;<span style="color:#f92672">script</span>&gt;
      <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">WebAssembly</span>.<span style="color:#a6e22e">instantiateStreaming</span>) {
        <span style="color:#75715e">// polyfill
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">WebAssembly</span>.<span style="color:#a6e22e">instantiateStreaming</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">importObject</span>) =&gt; {
          <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">source</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> (<span style="color:#66d9ef">await</span> <span style="color:#a6e22e">resp</span>).<span style="color:#a6e22e">arrayBuffer</span>();
          <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">WebAssembly</span>.<span style="color:#a6e22e">instantiate</span>(<span style="color:#a6e22e">source</span>, <span style="color:#a6e22e">importObject</span>);
        };
      }

      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">go</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Go</span>();
      <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">mod</span>, <span style="color:#a6e22e">inst</span>;
      <span style="color:#a6e22e">WebAssembly</span>.<span style="color:#a6e22e">instantiateStreaming</span>(<span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#34;lib.wasm&#34;</span>), <span style="color:#a6e22e">go</span>.<span style="color:#a6e22e">importObject</span>).<span style="color:#a6e22e">then</span>(
        <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">result</span> =&gt; {
          <span style="color:#a6e22e">mod</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">module</span>;
          <span style="color:#a6e22e">inst</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">instance</span>;
          <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">go</span>.<span style="color:#a6e22e">run</span>(<span style="color:#a6e22e">inst</span>);
        }
      );
    &lt;/<span style="color:#f92672">script</span>&gt;

    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;value1&#34;</span> /&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;value2&#34;</span> /&gt;

    &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;add(&#39;value1&#39;, &#39;value2&#39;, &#39;result&#39;);&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;addButton&#34;</span>&gt;
      Add
    &lt;/<span style="color:#f92672">button</span>&gt;
    &lt;<span style="color:#f92672">button</span>
      <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;subtract(&#39;value1&#39;, &#39;value2&#39;, &#39;result&#39;);&#34;</span>
      <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;subtractButton&#34;</span>
    &gt;
      Subtract
    &lt;/<span style="color:#f92672">button</span>&gt;

    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;result&#34;</span> /&gt;
  &lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;</code></pre></div>
<h1 id="conclusion">Conclusion</h1>

<p>So, in this tutorial, we managed to learn how we can compile our Go programs
into WebAssembly using the new v1.11 of the Go language. We created a really
simple calculator that exposes functions from our Go code to our frontend and
also does a bit of DOM parsing and manipulation to boot.</p>

<p>Hopefully, you found this article useful/interesting! If you did, then I&rsquo;d love
to hear from you in the comments section below. If you wish to support my work
then please feel free to subscribe to my YouTube channel:
<a href="https://youtube.com/tutorialedge">TutorialEdge</a>.</p>
 
<div class="author-container">
  <div class="author-image">
    
    <img src="../../images/svg/logo.svg" alt="CoTutorial" />
    
  </div>
  <div class="author-info">
    <h2>
      CoTutorial<br />
      <small
        >Twitter: <a href="https://twitter.com/wisnusaputradev">@CoTutorial</a></small
      >
    </h2>
    <p>
      Hey, I'm Elliot and I've been working on TutorialEdge for the last 4 years! If my work has helped you in any way, shape, or form then please consider supporting my work.
    </p>

    <a style="float: left; margin-right: 10px;" href="#"><img class="patron" src="https://images.tutorialedge.net/images/patreon.png" alt="become a patron"/></a>
    <a style="float: left;" href="#"><img src="https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png" alt="Buy Me A Coffee" style="height: auto !important;width: auto !important;" ></a>
    
  </div>
</div>


                </article>
                <div class="comments">
          <div class="content">
    
    
    

    <script>
        function loadAPI() {
            var js = document.createElement('script');
            js.src = '//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v4.0&appId=493615514813695&autoLogAppEvents=1';
            document.body.appendChild(js);
        }
        window.onscroll = function () {
            var rect = document.getElementById('comments').getBoundingClientRect();
            if (rect.top < window.innerHeight) {
                loadAPI();
                window.onscroll = null;
            } 
        }
        </script>
    <div id="fb-root"></div>
    <div class="fb-comments comments" id="comments" data-href="https://cotutorial.github.io/golang/go-webassembly-tutorial/" data-width="100%" data-numposts="5"></div>                  
</div>

        </div>
            </div>

            <div class="col-sm-3 col-md-2">
                <div id="right-sidebar">
                    <div class="toc">
                        <h4>Table Of Contents</h4>
                        <nav id="TableOfContents">
<ul>
<li><a href="#video-tutorial">Video Tutorial</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#a-simple-example">A Simple Example</a></li>
<li><a href="#a-more-complex-example">A More Complex Example</a>
<ul>
<li><a href="#registering-functions">Registering Functions</a></li>
<li><a href="#evaluating-dom-elements">Evaluating DOM Elements</a></li>
</ul></li>
<li><a href="#manipulating-dom-elements">Manipulating DOM elements</a></li>
<li><a href="#updating-our-subtract-function">Updating our subtract function:</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</nav>
                    </div>
                    <hr/>
                    <div id="codefund">
                        
                    </div>
                    <script src="https://codefund.io/properties/330/funder.js" async="async"></script>
                    <div class="clear"></div>
                </div>
            </div>

        </div>
    </div>
</div>


<script src="../../js/sticky-sidebar.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.0/anchor.min.js"></script>
<script>
    
    document.addEventListener("DOMContentLoaded", function(event) {
        var sidebar = new StickySidebar("#right-sidebar", {
            topSpacing: 10
        });
        anchors.options = {
            visible: "always",
            placement: "left"
        };
        anchors.add(
            ".content > h1, .content > h2, .content > h3, .content > h4"
        );
    });
</script>


<div class="blue-spacer"></div>

<footer class="page-footer">
    <div class="row">
        <div class="col l3 m6 s12">
            <div class="padded">
                <h3>Courses</h3>
                <ul>
                    <li><a href="https://cotutorial.github.io/python/">Python</a></li>
                    <li><a href="https://cotutorial.github.io/angular/">Angular</a></li>
                    <li><a href="https://cotutorial.github.io/golang/">Golang</a></li>
                    <li><a href="https://cotutorial.github.io/artificial-intelligence/">Artificial Intelligence</a></li>
                    <li><a href="https://cotutorial.github.io/webdev/">Web Development</a></li>
                </ul>
            </div>
        </div>
        <div class="col l3 m6 s12">
            <div class="padded">
                <h3>Quick Links</h3>

                <ul>
                    <li><a href="https://cotutorial.github.io/search/">Search Page</a></li>
                    <li><a href="https://cotutorial.github.io/about/">About</a></li>
                    <li><a href="https://cotutorial.github.io/get-involved/">Get Involved</a></li>
                </ul>
                <h3>Suggested Resources</h3>
                <ul>
                    <li><a href="https://cotutorial.github.io/uses/">My Hardware + Software Recording Setup </a></li>
                </ul>
            </div>
        </div>
        <div class="col l3 m6 s12">
            <div class="padded">
                <h3>Follow Me</h3>
                <ul>
                    <li><a href="https://twitter.com/wisnusaputradev">@wisnusaputradev</a></li>
                    <li><a href="https://www.facebook.com/wisnusaputradev">Wisnu Saputra</a></li>
                    <li><a href="https://github.com/saputrago">saputrago</a></li>
                </ul>
            </div>
        </div>
        <div class="col l3 m12 s12 footer-special">
            <div class="logo">
                <a href="https://cotutorial.github.io/"><img alt="tutorialedge logo" src="../../images/svg/logo.svg" /> CoTutorial</a>
            </div>
            <div class="padded">
                <p>CoTutorial is a totally free programming tutorial site that has been built with the intention of helping as many people as possible learn to program. The site is also completely opensourced and you can contribue here: <a href="https://github.com/saputrago">Project</a>,
                    any pull requests will be greatly appreciated!</p>
            </div>
        </div>
    </div>
    <div class="footer-copyright none">
        <span class="float-left">CoTutorial © 2019 Copyright</span>
        <span class="float-right" id="page-id">ec57881555d949ab1bfa216c44de4fbb</span>
    </div>
</footer>



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-10255990-23"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-10255990-23');
</script>
<script type="text/javascript">
    function init() {
        var imgDefer = document.getElementsByTagName('img');
        
        
        
        
        
        for (var i = 0; i < imgDefer.length; i++) {
            if (imgDefer[i].getAttribute('data-src')) {
                imgDefer[i].setAttribute('src', imgDefer[i].getAttribute('data-src'));
            }
        }

    }

    window.onload = init;
</script>

</div>
</body>

</html>