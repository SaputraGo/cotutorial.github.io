<!DOCTYPE html>
<html lang="id-ID">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width">
    <meta name="google-site-verification" content="o0UedRQqZULbVZPe6SPx1VD1YxJd6WL-2-15-XHWS1g" />
    <meta name="msvalidate.01" content="479C48823705295AF4454A1704545592" />
    <meta name="description"
        content="Hundreds of free tutorials for cutting edge languages and frameworks.">
    
    <meta name="author" content="Wisnu Saputra">
    <meta property="og:site_name" content="CoTutorial" />

    <title>Advanced Go Testing Tutorial | CoTutorial</title>


    <link rel="icon" type="image/png" href="https://images.tutorialedge.net/images/favicon.ico">
    <link media="all" defer rel="stylesheet" href="https://use.typekit.net/jnu8xif.css">
    <link media="all" defer href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
        crossorigin="anonymous">
    <link media="all" defer rel="stylesheet" href="https://cotutorial.github.io/css/style.css"> 
    <meta name="generator" content="Hugo 0.57.2" />
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="../../js/jquery-3.4.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"
        integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o"
        crossorigin="anonymous"></script>
    <meta content='100023577212451' property='fb:admins' />
    <meta content="493615514813695" property="fb:app_id" />

</head>

<body>
    <div id="dynamicApp">
        <nav class="navbar navbar-expand-lg">
            
            <a class="navbar-brand" href="../../">
                <img alt="tutorialedge logo" src="../../images/svg/logo.svg" alt="CoTutorial">
                <span>CoTutorial</span>
            </a>
            

            
            <button class="navbar-toggler text-white" type="button" data-toggle="collapse"
                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <img src="../../images/svg/hamburger.svg" alt="hamburger menu" />
            </button>
            

            <div class="collapse navbar-collapse justify-content-between" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                    
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="courseDropdown" role="button"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Courses
                        </a>
                        <div class="dropdown-menu" aria-labelledby="courseDropdown">
                            <a class="dropdown-item" href="../../artificial-intelligence/"><img alt="AI logo"
                                    src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                    data-src="https://images.tutorialedge.net/images/ai.png" />AI</a>
                            <a class="dropdown-item" href="../../angular/"><img alt="angular logo"
                                    src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                    data-src="https://images.tutorialedge.net/images/angular.svg" />Angular</a>
                            <a class="dropdown-item" href="../../cloud/"><img alt="cloud logo"
                                    src="data:image/png.svg;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                    data-src="https://images.tutorialedge.net/images/cloud.svg" />Cloud</a>
                            <a class="dropdown-item" href="../../compsci/"><img alt="computer science"
                                    src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                    data-src="../../images/svg/logo.svg" />Computer Science</a>
                            <a class="dropdown-item" href="../../python/"><img alt="python logo"
                                    src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                    data-src="https://images.tutorialedge.net/images/python.svg" />Python</a>
                            <a class="dropdown-item" href="../../golang/"><img alt="golang logo"
                                    src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                    data-src="https://images.tutorialedge.net/images/golang.svg" />Golang</a>
                            <a class="dropdown-item" href="../../rust/"><img alt="rust logo"
                                    src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                    data-src="https://images.tutorialedge.net/images/rust-logo.png" />Rust</a>
                            <a class="dropdown-item" href="../../webdev/"><img alt="webdev logo"
                                    src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                    data-src="../../images/svg/logo.svg" />Web Dev
                            </a>
                        </div>
                    </li>
                    

                    
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="courseDropdown" role="button"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Projects
                        </a>
                        <div class="dropdown-menu" aria-labelledby="courseDropdown">
                            <a class="dropdown-item" href="https://cotutorial.github.io/projects/hacker-news-clone-vuejs/"><img
                                    alt="VueJS logo" src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                    data-src="https://images.tutorialedge.net/images/vuejs.svg" />HackerNews Clone in
                                VueJS</a>
                            <a class="dropdown-item"
                                href="https://cotutorial.github.io/projects/building-blog-with-vuejs-aws/"><img alt="VueJS logo"
                                    src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                    data-src="https://images.tutorialedge.net/images/vuejs.svg" />Building a VueJS Blog
                                on AWS</a>
                            <a class="dropdown-item"
                                href="https://cotutorial.github.io/projects/chat-system-in-go-and-react/"><img alt="VueJS logo"
                                    src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                    data-src="https://images.tutorialedge.net/images/golang.svg" />Building a Chat
                                Application in Go and React</a>
                        </div>
                    </li>
                    

                    
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="tutorialDropdown" role="button"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Tutorials
                        </a>
                        <div class="dropdown-menu dropdown-menu-mega" aria-labelledby="tutorialDropdown">
                            <div class="row">
                                <div class="col-sm-6">
                                    <a class="dropdown-item" href="https://cotutorial.github.io/artificial-intelligence/"><img
                                            alt="AI logo"
                                            src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                            data-src="https://images.tutorialedge.net/images/ai.png" /> AI</a>
                                    <a class="dropdown-item" href="https://cotutorial.github.io/typescript/angular/"><img
                                            alt="Angular logo"
                                            src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                            data-src="https://images.tutorialedge.net/images/angular.svg" />Angular</a>
                                    <a class="dropdown-item" href="https://cotutorial.github.io/javascript/angularjs/"><img
                                            alt="AngularJS logo"
                                            src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                            data-src="https://images.tutorialedge.net/logos/angularjs.svg" />
                                        AngularJS</a>
                                    <a class="dropdown-item" href="https://cotutorial.github.io/cloud/"><img alt="Cloud logo"
                                            src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                            data-src="https://images.tutorialedge.net/images/cloud.svg" /> Cloud</a>
                                    <a class="dropdown-item" href="https://cotutorial.github.io/compsci/"><img
                                            alt="Comp Sci logo"
                                            src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                            data-src="../../images/svg/logo.svg" /> Comp Sci</a>
                                    <a class="dropdown-item" href="https://cotutorial.github.io/docker/"><img alt="Docker logo"
                                            src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                            data-src="https://images.tutorialedge.net/images/docker.svg" /> Docker</a>
                                    <a class="dropdown-item" href="https://cotutorial.github.io/gamedev/"><img alt="GameDev logo"
                                            src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                            data-src="../../images/svg/logo.svg" /> GameDev</a>
                                    <a class="dropdown-item" href="https://cotutorial.github.io/golang/"><img alt="Golang logo"
                                            src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                            data-src="https://images.tutorialedge.net/images/golang.svg" /> Golang</a>
                                </div>
                                <div class="col-sm-6">
                                    <a class="dropdown-item" href="https://cotutorial.github.io/nodejs/"><img alt="Nodejs logo"
                                            src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                            data-src="https://images.tutorialedge.net/images/javascript.svg" />
                                        NodeJS</a>
                                    <a class="dropdown-item" href="https://cotutorial.github.io/python/"><img alt="Python logo"
                                            src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                            data-src="https://images.tutorialedge.net/images/python.svg" /> Python</a>
                                    <a class="dropdown-item" href="https://cotutorial.github.io/rust/"> <img alt="Rust logo"
                                            src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                            data-src="https://images.tutorialedge.net/images/rust-logo.png" /> Rust</a>
                                    <a class="dropdown-item" href="https://cotutorial.github.io/typescript/"><img
                                            alt="TypeScript logo"
                                            src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                            data-src="https://images.tutorialedge.net/images/typescript.svg" />
                                        TypeScript</a>
                                    <a class="dropdown-item" href="https://cotutorial.github.io/webdev/"><img alt="Web Dev logo"
                                            src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                            data-src="../../images/svg/logo.svg" /> Web Dev</a>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../../blog/">Blog</a>
                    </li>
                    
                </ul>


                
                
                

            </div>
        </nav>

        
        <nav class="navbar secondary-nav navbar-expand-lg navbar-light bg-light">

            
            <button class="navbar-toggler text-white" type="button" data-toggle="collapse" data-target="#secondNav"
                aria-controls="secondNav" aria-expanded="false" aria-label="Toggle navigation">
                <img src="../../images/svg/hamburger.svg" alt="hamburger menu" />
            </button>

            <div class="collapse navbar-collapse justify-content-between" id="secondNav">
                <ul class="navbar-nav mr-auto">

                    
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/angular/"><img alt="angular logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/angular.svg" /> Angular</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/typescript/"><img alt="angular logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/typescript.png" /> TypeScript</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/cloud/"><img alt="cloud logo"
                                src="data:image/png.svg;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/cloud.svg" /> Cloud</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/python/"><img alt="python logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/python.svg" />Python</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/golang/"><img alt="golang logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/golang.svg" />Golang</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/rust/"><img alt="rust logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="https://images.tutorialedge.net/images/rust-logo.png" />Rust</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="https://cotutorial.github.io/webdev/"><img alt="webdev logo"
                                src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                                data-src="../../images/svg/logo.svg" />Web Dev</a>
                    </li>
                </ul>
            </div>
        </nav>

<div class="top-bar">
    <div class="container">
        <h1>
            
            <img src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" data-src="https://images.tutorialedge.net/images/golang.svg" alt="Advanced Go Testing Tutorial Image" />  Advanced Go Testing Tutorial
        </h1>
        <div class="post-info">
            <div class="post-info-inner">
                <span>
            
            <img class="author" src="../../images/svg/logo.svg" alt="CoTutorial" />
            
            <a href="https://twitter.com/wisnusaputradev">CoTutorial</a>
          </span>

                <span><img class="icon" src="https://tutorialedge.net/images/svg/clock.svg" alt="clock"/>6 Minutes</span>
                <span><img class="icon" src="https://tutorialedge.net/images/svg/calendar.svg" alt="clock"/> Aug 29, 2018</span>

                <span>
            
            <a href="../../tags/testing"
              ><span class="badge badge-pill badge-info">testing</span></a>
                
                </span>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="content-container">
        <div class="row">

            <div class="d-none d-sm-none col-sm-3 d-md-block">
                <div class="sidebar">
                    <div id="sidebar small-no-show">

  <div class="right-sidebar youtube-subscribe">
    <h3>Site Sponsors</h3>
    <a href="#"><img class="patron" src="https://images.tutorialedge.net/images/DigitalOcean.png" style="width: 100%; height: auto; margin: 0; " alt="Amazing Site Sponsors!"/></a>
    <hr/>
    <h3>Support The Site</h3>
    <a href="#"><img class="patron" src="https://images.tutorialedge.net/images/patreon.png" alt="become a patron"/></a>
    <div class="clear"></div>
    <a href="#"><img src="https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png" alt="Buy Me A Coffee" style="height: auto !important;width: auto !important;" ></a>
  </div>


  <div class="right-sidebar small-no-show">
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">advanced</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/golang-websockets-tutorial/">Working with Websockets and Socket.IO in Go - Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-protocol-buffer-tutorial/">Go Protocol Buffer Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-webassembly-tutorial/">Go WebAssembly Tutorial - Building a Calculator Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-oauth2-tutorial/">Go Oauth2 Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-face-recognition-tutorial-part-one/">Go Face Recognition Tutorial - Part 1</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-encrypt-decrypt-aes-tutorial/">Go Encryption and Decryption using AES - Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/building-ci-cd-pipeline-go-projects/">Building a Solid Continuous Integration Pipeline with TravisCI for Your Go Projects</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/writing-frontend-web-framework-webassembly-go/">Writing a Frontend Web Framework with WebAssembly And Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/authenticating-golang-rest-api-with-jwts/">Securing Your Go REST APIs With JWTs</a></li>
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">beginner</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/getting-started-with-go/">Getting Started With Go</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-basic-types-tutorial/">Go Basic Types Tutorial</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-complex-types-tutorial/">Go Composite Types Tutorial</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-functions-tutorial/">Go Functions Tutorial</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-methods-tutorial/">Go Methods Tutorial</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-interfaces-tutorial/">Go Interfaces Tutorial</a></li>
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/reading-console-input-golang/">Reading in Console Input in Golang</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/executing-system-commands-with-golang/">Executing System Commands With Golang</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/parsing-json-with-golang/">Parsing JSON files With Golang</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/parsing-xml-with-golang/">Parsing XML Files With Golang</a></li>
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/the-go-init-function/">The Go init Function</a></li>
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-sorting-with-sort-tutorial/">Go Sorting With the sort Package - Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-ticker-tutorial/">Go Tickers Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-modules-tutorial/">Go Modules Tutorial</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-json-tutorial/">Go JSON Tutorial</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">concurrency</h4>
    <ul class="collection">
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/concurrency-with-golang-goroutines/">Concurrency With Golang Goroutines</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-mutex-tutorial/">Go Mutex Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-channels-tutorial/">Go Channels Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-waitgroup-tutorial/">Go WaitGroup Tutorial</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">docker</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-multi-stage-docker-tutorial/">Go Multi-Stage Docker Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-docker-tutorial/">Containerizing your Go Applications with Docker - Tutorial</a></li>
      
      
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">file-upload</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-file-upload-tutorial/">Uploading Files in Go - Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">filesystem</h4>
    <ul class="collection">
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/reading-writing-files-in-go/">Reading And Writing To Files in Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/temporary-files-directories-go-111/">Working with Temporary Files and Directories in Go 1.11</a></li>
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">graphql</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-graphql-beginners-tutorial-part-2/">Go Graphql Beginners Tutorial - Part 2</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-graphql-beginners-tutorial/">Go GraphQL Beginners Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">intermediate</h4>
    <ul class="collection">
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/an-intro-to-go-dep/">An Intro to Go Dep</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/consuming-restful-api-with-go/">Consuming A RESTful API With Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/creating-restful-api-with-golang/">Creating a RESTful API With Golang</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/creating-simple-web-server-with-golang/">Creating A Simple Web Server With Golang</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/building-a-cli-in-go/">Building a Network Command Line Interface in Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/writing-a-twitter-bot-golang/">Writing A Twitter Bot in Golang</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/golang-orm-tutorial/">Golang ORM Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/golang-mysql-tutorial/">Golang MySQL Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-closures-tutorial/">An Introduction to Go Closures - Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-variadic-function-tutorial/">Go Variadic Function Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/working-with-environment-variables-in-go/">Working With Environment Variables in Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-decorator-function-pattern-tutorial/">Go Decorator Function Pattern Tutorial</a></li>
      
      
      
      
      
      
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">misc</h4>
    <ul class="collection">
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/top-books-for-learning-golang/">The Best Books For Learning Golang</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/sending-email-using-go-and-mailgun/">Sending Email Using Go And Mailgun</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/implementing-bubble-sort-with-golang/">Implementing the Bubble Sort Algorithm using Golang</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/golang-integer-string-conversion-tutorial/">Golang Integer String Conversion Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">redis</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-redis-tutorial/">Getting Started with Redis and Go - Tutorial</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">snippets</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/snippets/check-key-exists-in-map-go/">Check Key Exists in Map Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/snippets/concatenate-strings-in-go/">Concatenate Strings in Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/snippets/sort-map-by-value/">Sort Map by Value</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">testing</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/intro-testing-in-go/">An Introduction to Testing in Go</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/advanced-go-testing-tutorial/">Advanced Go Testing Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/benchmarking-your-go-programs/">An Introduction to Benchmarking Your Go Programs</a></li>
      
      
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/improving-your-tests-with-testify-go/">Improving Your Go Tests and Mocks With Testify</a></li>
      
      
    </ul>
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">tools</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/improving-go-workflow-with-git-hooks/">Improving Your Go Development Workflow With Git Hooks</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/makefiles-for-go-developers/">Makefiles for Go Developers</a></li>
      
      
    </ul>
    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    

    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <h4 style="text-transform: uppercase;">websockets</h4>
    <ul class="collection">
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/go-websocket-tutorial/">Go Websocket Tutorial</a></li>
      
      
      
      <li class="collection-item"><a href="https://cotutorial.github.io/golang/building-realtime-youtube-sub-monitor-go/">Building a Real-time YouTube Subscriber Monitor in Go</a></li>
      
      
    </ul>
    
    

    
    
    
    

    
    
  </div>

</div>
                </div>
            </div>

            <div class="col-sm-9 col-md-7">
                <article class="content" v-pre>
                    

<p><strong>Welcome fellow coders! In this tutorial, we are going to be taking a look at
selection of more advanced testing practices</strong> used by the likes of the Go core
language developers and in popular production-level tools.</p>

<p>I feel this approach, of actually studying what has been done in a production
system, will hopefully give you some insight into the best ways to test your own
production-level Go programs.</p>

<blockquote>
<p><strong>Note -</strong> If you are entirely new to testing your Go-based programs, then I
suggest you check out my other tutorial:
<a href="../../golang/intro-testing-in-go/">an introduction to testing in go</a></p>
</blockquote>

<h1 id="goals">Goals</h1>

<p>By the end of this tutorial:</p>

<ul>
<li>You will have a stronger understanding as to how to test your Go systems</li>
<li>You will know how to separate your unit and your integration tests.</li>
<li>You will know how to mock any <code>HTTP</code> requests that your Go applications may make.</li>
</ul>

<h1 id="prerequisites">Prerequisites</h1>

<p>Before you can follow this article, you will need the following:</p>

<ul>
<li>You will need Go version 1.11+ installed on your development machine.</li>
</ul>

<h1 id="achieving-good-coverage-with-table-driven-tests">Achieving Good Coverage with Table Driven Tests</h1>

<p>Let&rsquo;s start our journey in the <code>strings</code> package. If you have a look at the top
of the <code>strings_test.go</code> file within <code>src/strings/</code> you should see a number of
arrays defined and populated.</p>

<p>For example, take a look at <code>lastIndexTests</code> which is an array of type
<code>IndexTest</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">lastIndexTests</span> = []<span style="color:#a6e22e">IndexTest</span>{
    {<span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#ae81ff">0</span>},
    {<span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>},
    {<span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#e6db74">&#34;foo&#34;</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>},
    {<span style="color:#e6db74">&#34;fo&#34;</span>, <span style="color:#e6db74">&#34;foo&#34;</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>},
    {<span style="color:#e6db74">&#34;foo&#34;</span>, <span style="color:#e6db74">&#34;foo&#34;</span>, <span style="color:#ae81ff">0</span>},
    {<span style="color:#e6db74">&#34;foo&#34;</span>, <span style="color:#e6db74">&#34;f&#34;</span>, <span style="color:#ae81ff">0</span>},
    {<span style="color:#e6db74">&#34;oofofoofooo&#34;</span>, <span style="color:#e6db74">&#34;f&#34;</span>, <span style="color:#ae81ff">7</span>},
    {<span style="color:#e6db74">&#34;oofofoofooo&#34;</span>, <span style="color:#e6db74">&#34;foo&#34;</span>, <span style="color:#ae81ff">7</span>},
    {<span style="color:#e6db74">&#34;barfoobarfoo&#34;</span>, <span style="color:#e6db74">&#34;foo&#34;</span>, <span style="color:#ae81ff">9</span>},
    {<span style="color:#e6db74">&#34;foo&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#ae81ff">3</span>},
    {<span style="color:#e6db74">&#34;foo&#34;</span>, <span style="color:#e6db74">&#34;o&#34;</span>, <span style="color:#ae81ff">2</span>},
    {<span style="color:#e6db74">&#34;abcABCabc&#34;</span>, <span style="color:#e6db74">&#34;A&#34;</span>, <span style="color:#ae81ff">3</span>},
    {<span style="color:#e6db74">&#34;abcABCabc&#34;</span>, <span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#ae81ff">6</span>},
}</code></pre></div>
<p>This array is used to test the <code>LastIndex</code> function within the <code>strings.go</code> file
with a number of negative and positive cases. Each of these <code>IndexTest</code> elements
feature a standard <code>string</code>, a separator, and an <code>out</code> integer value and have a
<code>struct</code> that looks like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">IndexTest</span> <span style="color:#66d9ef">struct</span> {
    <span style="color:#a6e22e">s</span>   <span style="color:#66d9ef">string</span>
    <span style="color:#a6e22e">sep</span> <span style="color:#66d9ef">string</span>
    <span style="color:#a6e22e">out</span> <span style="color:#66d9ef">int</span>
}</code></pre></div>
<p>These tests are then triggered by the <code>TestLastIndex()</code> function which runs
through all of these test cases and checks to see whether the results returned
from the <code>lastIndex</code> function match the expected results outlined in the array.</p>

<p>This same practice is done numerous times for numerous different functions and
this helps to guarantee that when any code changes are made to these functions,
the expected functionality will not change.</p>

<h1 id="use-the-testdata-directory">Use the testdata Directory</h1>

<p>In certain situations, you won&rsquo;t be able to specify your expected input and
output as an array of elements like in the above example. You may be trying to
test how you read + write to files on the filesystem or how you parse
proprietary data formats and so on.</p>

<p>If this is the case then one option is to create a <code>testdata</code> directory and
store any files you may need for testing within that directory.</p>

<p>A great example of this can again be found within the Standard Library under
<code>src/archive/tar/</code> in which a <code>testdata/</code> directory is defined and contains a
number of <code>.tar</code> files that are subsequently used for testing.</p>

<p>Some fairly complex examples of tests using these files can be found in the
<code>reader_test.go</code> file.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestReader</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
    <span style="color:#a6e22e">vectors</span> <span style="color:#f92672">:=</span> []<span style="color:#66d9ef">struct</span> {
        <span style="color:#a6e22e">file</span>    <span style="color:#66d9ef">string</span>    <span style="color:#75715e">// Test input file
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">headers</span> []<span style="color:#f92672">*</span><span style="color:#a6e22e">Header</span> <span style="color:#75715e">// Expected output headers
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">chksums</span> []<span style="color:#66d9ef">string</span>  <span style="color:#75715e">// MD5 checksum of files, leave as nil if not checked
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">err</span>     <span style="color:#66d9ef">error</span>     <span style="color:#75715e">// Expected error to occur
</span><span style="color:#75715e"></span>    }{{
        <span style="color:#a6e22e">file</span>: <span style="color:#e6db74">&#34;testdata/gnu.tar&#34;</span>,
        <span style="color:#a6e22e">headers</span>: []<span style="color:#f92672">*</span><span style="color:#a6e22e">Header</span>{{
            <span style="color:#a6e22e">Name</span>:     <span style="color:#e6db74">&#34;small.txt&#34;</span>,
            <span style="color:#a6e22e">Mode</span>:     <span style="color:#ae81ff">0640</span>,
            <span style="color:#a6e22e">Uid</span>:      <span style="color:#ae81ff">73025</span>,
            <span style="color:#a6e22e">Gid</span>:      <span style="color:#ae81ff">5000</span>,
            <span style="color:#a6e22e">Size</span>:     <span style="color:#ae81ff">5</span>,
            <span style="color:#a6e22e">ModTime</span>:  <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Unix</span>(<span style="color:#ae81ff">1244428340</span>, <span style="color:#ae81ff">0</span>),
            <span style="color:#a6e22e">Typeflag</span>: <span style="color:#e6db74">&#39;0&#39;</span>,
            <span style="color:#a6e22e">Uname</span>:    <span style="color:#e6db74">&#34;dsymonds&#34;</span>,
            <span style="color:#a6e22e">Gname</span>:    <span style="color:#e6db74">&#34;eng&#34;</span>,
            <span style="color:#a6e22e">Format</span>:   <span style="color:#a6e22e">FormatGNU</span>,
        }, {
            <span style="color:#a6e22e">Name</span>:     <span style="color:#e6db74">&#34;small2.txt&#34;</span>,
            <span style="color:#a6e22e">Mode</span>:     <span style="color:#ae81ff">0640</span>,
            <span style="color:#a6e22e">Uid</span>:      <span style="color:#ae81ff">73025</span>,
            <span style="color:#a6e22e">Gid</span>:      <span style="color:#ae81ff">5000</span>,
            <span style="color:#a6e22e">Size</span>:     <span style="color:#ae81ff">11</span>,
            <span style="color:#a6e22e">ModTime</span>:  <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Unix</span>(<span style="color:#ae81ff">1244436044</span>, <span style="color:#ae81ff">0</span>),
            <span style="color:#a6e22e">Typeflag</span>: <span style="color:#e6db74">&#39;0&#39;</span>,
            <span style="color:#a6e22e">Uname</span>:    <span style="color:#e6db74">&#34;dsymonds&#34;</span>,
            <span style="color:#a6e22e">Gname</span>:    <span style="color:#e6db74">&#34;eng&#34;</span>,
            <span style="color:#a6e22e">Format</span>:   <span style="color:#a6e22e">FormatGNU</span>,
        }},
        <span style="color:#a6e22e">chksums</span>: []<span style="color:#66d9ef">string</span>{
            <span style="color:#e6db74">&#34;e38b27eaccb4391bdec553a7f3ae6b2f&#34;</span>,
            <span style="color:#e6db74">&#34;c65bd2e50a56a2138bf1716f2fd56fe9&#34;</span>,
        },
  },
  <span style="color:#f92672">//</span> <span style="color:#a6e22e">more</span> <span style="color:#a6e22e">test</span> <span style="color:#a6e22e">cases</span></code></pre></div>
<p>In the above function you&rsquo;ll see that the core developers are combining the
first technique we covered here in combination with files from the <code>testdata/</code>
directory to ensure that when a sample <code>.tar</code> file is opened, the files and
their checksums match their expectations.</p>

<!-- # Subtests - new in Go 1.8

This was a technique I came across recently when watching Mitchell Hashimoto's - [Advanced Testing with Go](https://www.youtube.com/watch?v=8hQG7QlcLBk) talk on YouTube which I highly recommend.

Using subtests effectively allows you to write numerous tests within a Test method  -->

<h1 id="mocking-http-requests">Mocking HTTP Requests</h1>

<p>As soon as you start writing production-level APIs and services, it&rsquo;s likely
you&rsquo;ll start interacting with other services and being able to test the way that
you interact with these services is just as important as testing other parts of
your codebase.</p>

<p>However, you may be interacting with REST APIs that perform CRUD actions on
databases and as such, you don&rsquo;t want these changes actually being committed to
your database when you are just trying to test things are working.</p>

<p>So, in order to get around this problem, we can mock HTTP responses using the
<code>net/http/httptest</code> package which is our best friend in these situations.</p>

<div class="filename">main_test.go</div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main_test</span>

<span style="color:#f92672">import</span> (
    <span style="color:#e6db74">&#34;fmt&#34;</span>
    <span style="color:#e6db74">&#34;io&#34;</span>
    <span style="color:#e6db74">&#34;io/ioutil&#34;</span>
    <span style="color:#e6db74">&#34;net/http&#34;</span>
    <span style="color:#e6db74">&#34;net/http/httptest&#34;</span>
    <span style="color:#e6db74">&#34;testing&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestHttp</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
  <span style="color:#75715e">//
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">handler</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">w</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ResponseWriter</span>, <span style="color:#a6e22e">r</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Request</span>) {
    <span style="color:#75715e">// here we write our expected response, in this case, we return a
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// JSON string which is typical when dealing with REST APIs
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">io</span>.<span style="color:#a6e22e">WriteString</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;{ \&#34;status\&#34;: \&#34;expected service response\&#34;}&#34;</span>)
    }

    <span style="color:#a6e22e">req</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">httptest</span>.<span style="color:#a6e22e">NewRequest</span>(<span style="color:#e6db74">&#34;GET&#34;</span>, <span style="color:#e6db74">&#34;https://tutorialedge.net&#34;</span>, <span style="color:#66d9ef">nil</span>)
    <span style="color:#a6e22e">w</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">httptest</span>.<span style="color:#a6e22e">NewRecorder</span>()
    <span style="color:#a6e22e">handler</span>(<span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">req</span>)

    <span style="color:#a6e22e">resp</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">Result</span>()
    <span style="color:#a6e22e">body</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">ioutil</span>.<span style="color:#a6e22e">ReadAll</span>(<span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">Body</span>)
<span style="color:#a6e22e">haha</span>
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">StatusCode</span>)
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">Header</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;Content-Type&#34;</span>))
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(string(<span style="color:#a6e22e">body</span>))
}</code></pre></div>
<p>In the above test case, we basically overwrite the response we expect from our
URL and then continue to test other parts of our system that rely upon that
response.</p>

<h1 id="the-use-of-separate-packages">The Use of Separate Packages</h1>

<p>If we have a look at the <code>strings_test.go</code> file and inspect the package at the
top, you should notice that it doesn&rsquo;t reside within the same package that the
<code>strings.go</code> file resides within.</p>

<p>The reason for this? It helps you to avoid cyclic imports. In some scenarios,
you&rsquo;ll need to import a package in your <code>*_test.go</code> file to adequately write
your tests. If the package you import in already has a reference to the package
you are trying to test, you may see issues with cyclic dependencies.</p>

<h1 id="differentiate-your-unit-and-integration-tests">Differentiate your Unit and Integration Tests</h1>

<blockquote>
<p><strong>Note -</strong> I originally found out about this tip from:
<a href="https://medium.com/@povilasve/go-advanced-tips-tricks-a872503ac859">Go Advanced Tips Tricks</a></p>
</blockquote>

<p>If you are writing tests for large enterprise Go systems then you&rsquo;ll more than
likely have a set of both <code>integration</code> and <code>unit</code> tests ensuring the validity
of your system.</p>

<p>More often than not however, you&rsquo;ll find your integration tests taking far
longer to run as opposed to your unit tests due to the fact they could be
reaching out to other systems.</p>

<p>In this case, it makes sense to put your integration tests into
<code>*_integration_test.go</code> files and adding <code>// +build integration</code> to the top of
your test file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// +build integration
</span><span style="color:#75715e"></span>
<span style="color:#f92672">package</span> <span style="color:#a6e22e">main_test</span>

<span style="color:#f92672">import</span> (
    <span style="color:#e6db74">&#34;fmt&#34;</span>
    <span style="color:#e6db74">&#34;testing&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestMainIntegration</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;My Integration Test&#34;</span>)
}</code></pre></div>
<p>In order to run this suite of integration tests you can call <code>go test</code> like so:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s">➜  advanced<span style="color:#f92672">-</span>go<span style="color:#f92672">-</span>testing<span style="color:#f92672">-</span>tutorial git<span style="color:#f92672">:</span>(master) ✗ go test <span style="color:#f92672">-</span>tags<span style="color:#f92672">=</span>integration
My Integration Test
PASS
ok      _<span style="color:#f92672">/</span>Users<span style="color:#f92672">/</span>elliot<span style="color:#f92672">/</span>Documents<span style="color:#f92672">/</span>Projects<span style="color:#f92672">/</span>tutorials<span style="color:#f92672">/</span>golang<span style="color:#f92672">/</span>advanced<span style="color:#f92672">-</span>go<span style="color:#f92672">-</span>testing<span style="color:#f92672">-</span>tutorial <span style="color:#ae81ff">0.006</span>s</code></pre></div>
<h1 id="conclusion">Conclusion</h1>

<p>So, in this tutorial, we had a look at some of the more advanced testing
techniques and tricks employed by the Go language maintainers.</p>

<p>Hopefully, you found this useful and it gave you the insight needed to go off
and improve your own go tests. If you found it useful, or have any further
questions, then please don&rsquo;t hesitate to let me know in the comments section
below!</p>

<h2 id="further-reading">Further Reading</h2>

<p>If you enjoyed this, you may like my other articles on testing in Go:</p>

<ul>
<li><a href="../../golang/improving-your-tests-with-testify-go/">Improving Your Tests with Testify in Go</a></li>
</ul>
 
<div class="author-container">
  <div class="author-image">
    
    <img src="../../images/svg/logo.svg" alt="CoTutorial" />
    
  </div>
  <div class="author-info">
    <h2>
      CoTutorial<br />
      <small
        >Twitter: <a href="https://twitter.com/wisnusaputradev">@CoTutorial</a></small
      >
    </h2>
    <p>
      Hey, I'm Elliot and I've been working on TutorialEdge for the last 4 years! If my work has helped you in any way, shape, or form then please consider supporting my work.
    </p>

    <a style="float: left; margin-right: 10px;" href="#"><img class="patron" src="https://images.tutorialedge.net/images/patreon.png" alt="become a patron"/></a>
    <a style="float: left;" href="#"><img src="https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png" alt="Buy Me A Coffee" style="height: auto !important;width: auto !important;" ></a>
    
  </div>
</div>


                </article>
                <div class="comments">
          <div class="content">
    
    
    

    <script>
        function loadAPI() {
            var js = document.createElement('script');
            js.src = '//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v4.0&appId=493615514813695&autoLogAppEvents=1';
            document.body.appendChild(js);
        }
        window.onscroll = function () {
            var rect = document.getElementById('comments').getBoundingClientRect();
            if (rect.top < window.innerHeight) {
                loadAPI();
                window.onscroll = null;
            } 
        }
        </script>
    <div id="fb-root"></div>
    <div class="fb-comments comments" id="comments" data-href="https://cotutorial.github.io/golang/advanced-go-testing-tutorial/" data-width="100%" data-numposts="5"></div>                  
</div>

        </div>
            </div>

            <div class="col-sm-3 col-md-2">
                <div id="right-sidebar">
                    <div class="toc">
                        <h4>Table Of Contents</h4>
                        <nav id="TableOfContents">
<ul>
<li><a href="#goals">Goals</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#achieving-good-coverage-with-table-driven-tests">Achieving Good Coverage with Table Driven Tests</a></li>
<li><a href="#use-the-testdata-directory">Use the testdata Directory</a></li>
<li><a href="#mocking-http-requests">Mocking HTTP Requests</a></li>
<li><a href="#the-use-of-separate-packages">The Use of Separate Packages</a></li>
<li><a href="#differentiate-your-unit-and-integration-tests">Differentiate your Unit and Integration Tests</a></li>
<li><a href="#conclusion">Conclusion</a>
<ul>
<li><a href="#further-reading">Further Reading</a></li>
</ul></li>
</ul>
</nav>
                    </div>
                    <hr/>
                    <div id="codefund">
                        
                    </div>
                    <script src="https://codefund.io/properties/330/funder.js" async="async"></script>
                    <div class="clear"></div>
                </div>
            </div>

        </div>
    </div>
</div>


<script src="../../js/sticky-sidebar.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.0/anchor.min.js"></script>
<script>
    
    document.addEventListener("DOMContentLoaded", function(event) {
        var sidebar = new StickySidebar("#right-sidebar", {
            topSpacing: 10
        });
        anchors.options = {
            visible: "always",
            placement: "left"
        };
        anchors.add(
            ".content > h1, .content > h2, .content > h3, .content > h4"
        );
    });
</script>


<div class="blue-spacer"></div>

<footer class="page-footer">
    <div class="row">
        <div class="col l3 m6 s12">
            <div class="padded">
                <h3>Courses</h3>
                <ul>
                    <li><a href="https://cotutorial.github.io/python/">Python</a></li>
                    <li><a href="https://cotutorial.github.io/angular/">Angular</a></li>
                    <li><a href="https://cotutorial.github.io/golang/">Golang</a></li>
                    <li><a href="https://cotutorial.github.io/artificial-intelligence/">Artificial Intelligence</a></li>
                    <li><a href="https://cotutorial.github.io/webdev/">Web Development</a></li>
                </ul>
            </div>
        </div>
        <div class="col l3 m6 s12">
            <div class="padded">
                <h3>Quick Links</h3>

                <ul>
                    <li><a href="https://cotutorial.github.io/search/">Search Page</a></li>
                    <li><a href="https://cotutorial.github.io/about/">About</a></li>
                    <li><a href="https://cotutorial.github.io/get-involved/">Get Involved</a></li>
                </ul>
                <h3>Suggested Resources</h3>
                <ul>
                    <li><a href="https://cotutorial.github.io/uses/">My Hardware + Software Recording Setup </a></li>
                </ul>
            </div>
        </div>
        <div class="col l3 m6 s12">
            <div class="padded">
                <h3>Follow Me</h3>
                <ul>
                    <li><a href="https://twitter.com/wisnusaputradev">@wisnusaputradev</a></li>
                    <li><a href="https://www.facebook.com/wisnusaputradev">Wisnu Saputra</a></li>
                    <li><a href="https://github.com/saputrago">saputrago</a></li>
                </ul>
            </div>
        </div>
        <div class="col l3 m12 s12 footer-special">
            <div class="logo">
                <a href="https://cotutorial.github.io/"><img alt="tutorialedge logo" src="../../images/svg/logo.svg" /> CoTutorial</a>
            </div>
            <div class="padded">
                <p>CoTutorial is a totally free programming tutorial site that has been built with the intention of helping as many people as possible learn to program. The site is also completely opensourced and you can contribue here: <a href="https://github.com/saputrago">Project</a>,
                    any pull requests will be greatly appreciated!</p>
            </div>
        </div>
    </div>
    <div class="footer-copyright none">
        <span class="float-left">CoTutorial © 2019 Copyright</span>
        <span class="float-right" id="page-id">75c1deb741038d8c4808ca9186c5fb3c</span>
    </div>
</footer>



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-10255990-23"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-10255990-23');
</script>
<script type="text/javascript">
    function init() {
        var imgDefer = document.getElementsByTagName('img');
        
        
        
        
        
        for (var i = 0; i < imgDefer.length; i++) {
            if (imgDefer[i].getAttribute('data-src')) {
                imgDefer[i].setAttribute('src', imgDefer[i].getAttribute('data-src'));
            }
        }

    }

    window.onload = init;
</script>

</div>
</body>

</html>